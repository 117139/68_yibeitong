{"version":3,"sources":["uni-app:///main.js","webpack:///E:/phpStudy/WWW/68_yibeitong/pages/xiaoxi_list/xt_list.vue?dd29","webpack:///E:/phpStudy/WWW/68_yibeitong/pages/xiaoxi_list/xt_list.vue?3f40","webpack:///E:/phpStudy/WWW/68_yibeitong/pages/xiaoxi_list/xt_list.vue?5132","webpack:///E:/phpStudy/WWW/68_yibeitong/pages/xiaoxi_list/xt_list.vue?7830","uni-app:///pages/xiaoxi_list/xt_list.vue","webpack:///E:/phpStudy/WWW/68_yibeitong/pages/xiaoxi_list/xt_list.vue?2866"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","__map","msgList","item","index","$orig","__get_orig","m0","timeFliter","time","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,iD,mDACAA,EAAWC,a;;;;2DCHX,+SACIC,EADJ,2JASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,gCACZ,aAAAF,E;;;;2GCvBf,2jC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,SAAS,SAASC,EAAMC,GAC7C,IAAIC,EAAQX,EAAIY,WAAWH,GAEvBI,EAAKb,EAAIc,WAAWL,EAAKM,MAC7B,MAAO,CACLJ,MAAOA,EACPE,GAAIA,OAIRb,EAAIgB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLhB,GAAIA,MAKRiB,GAAmB,EACnBC,EAAkB,GACtBvB,EAAOwB,eAAgB,G;;;;2DC1BvB,yrBAAmoB,eAAG,G;;;;0ICwDtoB,mCAMA,EALA,mB,gvBAMA,CACA,KADA,WAEA,OACA,OACA,aAGA,eACA,eACA,wBACA,oBACA,+DAGA,OACA,mBADA,SACA,KACA,iBAIA,kBApBA,WAqBA,OACA,YACA,4DACA,oBACA,uBAKA,OA9BA,SA8BA,GACA,OAEA,2BACA,+BAEA,eAQA,6DACA,kDACA,qCAEA,mBAKA,mBAhBA,gBACA,WAmBA,SAEA,WAFA,WAEA,WAEA,yCACA,2BACA,iBACA,mBAEA,eACA,wBACA,eACA,oBACA,oBACA,0BAGA,6DACA,2CACA,iCACA,uEAMA,WA1BA,SA0BA,GACA,sBACA,iCACA,Y;;;;2DCrJA,0+BAAo7B,eAAG,G","file":"pages/xiaoxi_list/xt_list.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/xiaoxi_list/xt_list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./xt_list.vue?vue&type=template&id=fc524214&scoped=true&\"\nvar renderjs\nimport script from \"./xt_list.vue?vue&type=script&lang=js&\"\nexport * from \"./xt_list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./xt_list.vue?vue&type=style&index=0&id=fc524214&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc524214\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/xiaoxi_list/xt_list.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xt_list.vue?vue&type=template&id=fc524214&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.msgList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 = _vm.timeFliter(item.time)\n    return {\n      $orig: $orig,\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xt_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xt_list.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"minh100\">\n\t\t<view class=\"list\" v-for=\"(item,index) in msgList\">\n\t\t\t<view class=\"time\" >{{timeFliter(item.time)}}</view>\n\t\t\t<!-- 1 有用户申请加群\t群管理员/群主接收 -->\n\t\t\t<view v-if=\"item.payload.operationType==1\">\n\t\t\t\t\t用户{{item.payload.operatorID}}申请加群--{{item.payload.groupProfile.name}}\n\t\t\t\t\t<!-- 位添加处理方法 -->\n\t\t\t\t\t<!-- <view>处理</view> -->\n\t\t\t</view>\n\t\t\t<!-- 2\t申请加群被同意\t申请加群的用户接收 -->\n\t\t\t<view v-if=\"item.payload.operationType==2\">\n\t\t\t\t\t成功加入群组:{{item.payload.groupProfile.name}}\n\t\t\t</view>\n\t\t\t<!-- 3\t申请加群被拒绝\t申请加群的用户接收 -->\n\t\t\t<view v-if=\"item.payload.operationType==3\">\n\t\t\t\t\t您的申请已被拒绝--{{item.payload.groupProfile.name}}\n\t\t\t</view>\n\t\t\t<!-- 4\t被踢出群组\t被踢出的用户接收 -->\n\t\t\t<view v-if=\"item.payload.operationType==4\">\n\t\t\t\t\t您已被踢出群组--{{item.payload.groupProfile.name}}\n\t\t\t</view>\n\t\t\t<!-- 5\t群组被解散\t全体群成员接收 -->\n\t\t\t<view v-if=\"item.payload.operationType==5\">\n\t\t\t\t\t您所在群组已被解散--{{item.payload.groupProfile.name}}\n\t\t\t</view>\n\t\t\t<!-- 6\t创建群组\t创建者接收 -->\n\t\t\t<view v-if=\"item.payload.operationType==6\">\n\t\t\t\t\t创建群组--{{item.payload.groupProfile.name}}\n\t\t\t</view>\n\t\t\t<!--7\t邀请加群\t被邀请者接收 -->\n\t\t\t<view v-if=\"item.payload.operationType==7\">\n\t\t\t\t\t您已被邀请加入群组--{{item.payload.groupProfile.name}}\n\t\t\t</view>\n\t\t\t<!--8\t退群\t退群者接收 -->\n\t\t\t<view v-if=\"item.payload.operationType==8\">\n\t\t\t\t\t您已退出群组--{{item.payload.groupProfile.name}}\n\t\t\t</view>\n\t\t\t<!--9\t设置管理员\t被设置方接收 -->\n\t\t\t<view v-if=\"item.payload.operationType==9\">\n\t\t\t\t\t您已被设置为管理员--{{item.payload.groupProfile.name}}\n\t\t\t</view>\n\t\t\t<!--10\t取消管理员\t被取消方接收 -->\n\t\t\t<view v-if=\"item.payload.operationType==10\">\n\t\t\t\t\t您的管理员身份已被取消--{{item.payload.groupProfile.name}}\n\t\t\t</view>\n\t\t\t<!--255\t用户自定义通知\t默认全员接收-->\n\t\t\t<view v-if=\"item.payload.operationType==222\">\n\t\t\t\t\t<!-- 自定义通知--{{item.payload.groupProfile.name}} -->\n\t\t\t</view>\n\t\t\t<view v-if=\"item.payload.handleMessage\" class=\"fy_text\">{{item.payload.handleMessage}}</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport service from '../../service.js';\n\timport {\n\t\tmapState,\n\t\tmapMutations\n\t} from 'vuex'\n\n\tvar that\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tTIM:'',\n\t\t\t\tmsgList:''\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t...mapState({\n\t\t\t\tloginDatas: 'loginDatas',\n\t\t\t\thasLogin: 'hasLogin',\n\t\t\t\tcurrentMessageList: state => state.currentMessageList,\n\t\t\t})\n\t\t},\n\t\twatch: {\n\t\t\tcurrentMessageList(newVal, oldVal) {\n\t\t\t\tthis.msgList = newVal\n\t\t\t\t// this.screenMsg(newVal, oldVal)\n\t\t\t},\n\t\t},\n\t\tonShareAppMessage() {\n\t\t\treturn {\n\t\t\t\ttitle: '依辈通',\n\t\t\t\tpath: '/pages/index/index?pid=' + that.$store.state.loginDatas.id,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('成功', res)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tonLoad(option) { \n\t\t\tthat = this\n\t\t\t\n\t\t\tconsole.log('对方聊天id' + option.id)\n\t\t\tconsole.log('对方聊天type' + option.type)\n\t\t\t\n\t\t\tif (!this.hasLogin) {\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: 1\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\n\t\t\tthis.conversationActive = this.$store.state.conversationActive\n\t\t\tconsole.log('conversationActive===============>')\n\t\t\tconsole.log(this.conversationActive)\n\t\t\t\n\t\t\tthis.TIM = this.$TIM\n\t\t\t// this.toUserId = 'wenxin'\n\t\t\t//获取聊天对象的用户信息---有后端的情况这里 使用后端api请求、\n\t\t\t//防止初次聊天的时候 没有对方的基础信息\n\t\t\t// this.getmsg()\n\t\t\tthis.getMsgList();\n\t\t\n\t\t},\n\t\t\n\t\tmethods: {\n\t\t\t// 加载初始页面消息\n\t\t\tgetMsgList() {\n\t\t\t\t// 历史消息列表\n\t\t\t\tlet conversationID = this.conversationActive.conversationID\n\t\t\t\tlet promise = this.tim.getMessageList({\n\t\t\t\t\tconversationID: conversationID,\n\t\t\t\t\tcount: this.count\n\t\t\t\t});\n\t\t\t\tconsole.log(conversationID)\n\t\t\t\tconsole.log(this.count)\n\t\t\t\tconsole.log(promise)\n\t\t\t\tpromise.then((res) => {\n\t\t\t\t\tconsole.log(res.data)\n\t\t\t\t\tif (!res.data.nextReqMessageID) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tthis.$store.commit('pushCurrentMessageList', res.data.messageList)\n\t\t\t\t\tthis.nextReqMessageID = res.data.nextReqMessageID // 用于续拉，分页续拉时需传入该字段。\n\t\t\t\t\tthis.isCompleted = res.data.isCompleted\n\t\t\t\t\tthis.scrollToView = res.data.messageList[res.data.messageList.length - 1].ID\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t},\n\t\t\t//时间过滤\n\t\t\ttimeFliter(timer) {\n\t\t\t\tlet timeData = new Date(timer * 1000)\n\t\t\t\tlet str = this.$common.dateTimeFliter(timeData)\n\t\t\t\treturn str\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.minh100{\n\t\tpadding: 15upx 30upx;\n\t}\n.list{\n\t/* border-bottom: 1px solid #ddd; */\n\tpadding: 25upx 30upx;\n\tborder-radius: 10upx;\n\tbox-shadow: 0px 0px 7px 0px rgba(179, 179, 179, 0.55);\n\tbackground:rgba(163, 206, 246, .1);\n\tfont-size: 26upx;\n}\n.list+.list{\n\tmargin-top: 30upx;\n}\n.time{\n\tfont-size: 24upx;\n\tmargin-bottom: 10upx;\n}\n.fy_text{\n\tmargin-top: 10upx;\n\tcolor: #666;\n}\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xt_list.vue?vue&type=style&index=0&id=fc524214&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xt_list.vue?vue&type=style&index=0&id=fc524214&scoped=true&lang=css&\""],"sourceRoot":""}