{"version":3,"sources":["uni-app:///main.js","webpack:///E:/phpStudy/WWW/68_yibeitong/pages/xiaoxi_list/room.vue?5084","webpack:///E:/phpStudy/WWW/68_yibeitong/pages/xiaoxi_list/room.vue?d7ff","webpack:///E:/phpStudy/WWW/68_yibeitong/pages/xiaoxi_list/room.vue?4701","webpack:///E:/phpStudy/WWW/68_yibeitong/pages/xiaoxi_list/room.vue?9107","uni-app:///pages/xiaoxi_list/room.vue","webpack:///E:/phpStudy/WWW/68_yibeitong/pages/xiaoxi_list/room.vue?4e00","webpack:///E:/phpStudy/WWW/68_yibeitong/utils/filter.wxs?642c","webpack:///E:/phpStudy/WWW/68_yibeitong/utils/filter.wxs?3479"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","__map","msgList","item","index","$orig","__get_orig","m0","timeFliter","time","m1","gettime1","m2","flow","avatar","getimg","m3","type","TIM","TYPES","MSG_TEXT","nodesFliter","payload","text","m4","MSG_CUSTOM","data","getarg","extension","m5","m6","m7","m8","m9","m10","_isMounted","e0","$event","isFocus","e1","$mp","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped","Component","wxsCallMethods"],"mappings":"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CA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,wBAGA,gBACA,iBACA,SACA,UACA,UACA,cACA,YAIA,sBACA,cACA,qBACA,mBACA,gBAGA,YAGA,eACA,eACA,wBACA,oBACA,+DAGA,OACA,mBADA,SACA,KACA,eACA,sBAGA,OAzOA,SAyOA,cACA,OACA,2BACA,+BACA,yBACA,iBAEA,eAMA,0BACA,yBACA,yBACA,6BACA,2BACA,2BACA,yBAIA,SACA,sBAEA,mDACA,sDACA,6DACA,mBAKA,kBAEA,gCACA,oBAIA,mCACA,oBAGA,kCACA,mBAtCA,gBACA,WAyCA,OA3RA,WA4RA,WACA,YACA,uBACA,mBACA,2BACA,wBACA,MAEA,SApSA,WAsSA,+BACA,wDAEA,oBACA,uBAEA,mBAEA,4CAGA,kBAjTA,WAkTA,yBAEA,SACA,OADA,SACA,GACA,4BAEA,OAJA,WAKA,WACA,GACA,6BACA,gBACA,eAIA,8CACA,eACA,YACA,oBACA,yBACA,wBAGA,mBACA,eACA,aACA,YACA,uBAIA,SA7BA,SA6BA,GACA,WAGA,mBACA,2BACA,yBAEA,OADA,qDACA,yCACA,yBADA,IAIA,KAzCA,SAyCA,GACA,WAOA,cAGA,WACA,uBACA,aACA,KAGA,oBAIA,eA9DA,WA+DA,aACA,iBACA,qBAIA,OArEA,SAqEA,OACA,gBAGA,GAIA,cACA,kBAEA,oBAEA,2BAGA,UAHA,IAOA,YAzFA,SAyFA,GACA,2FACA,UAGA,WA9FA,SA8FA,GACA,sBACA,iCACA,UAEA,YAnGA,SAmGA,GACA,MAGA,+BACA,0BACA,uBACA,gBACA,kBACA,kBACA,iBACA,cACA,eACA,iBAOA,OANA,OACA,SAGA,eAEA,KAGA,WAEA,QAIA,oBAEA,4BAIA,UAtIA,SAsIA,gBACA,cACA,2CAEA,0BACA,2BACA,+BAMA,2BACA,wCAIA,qBAEA,2BACA,gCACA,wBAKA,YAhKA,SAgKA,cACA,yBAEA,6CACA,2BACA,iBACA,uCACA,mBAEA,oBACA,gEACA,2CACA,iCACA,0BAaA,WA1LA,WA0LA,WAEA,yCACA,2BACA,iBACA,mBAEA,eACA,wBACA,eACA,oBACA,oBACA,0BAGA,6DACA,2CACA,iCACA,kEAEA,uBACA,oBACA,2BACA,6BAEA,SAYA,WA/NA,SA+NA,GAEA,oBACA,gBACA,iBACA,cACA,cACA,cAEA,UAGA,SA3OA,WA4OA,gBACA,kBACA,eACA,iBACA,mBAEA,mBAIA,WAtPA,WAuPA,kCAGA,WA1PA,WA0PA,WACA,wBACA,uBACA,cACA,iBACA,MAGA,YAlQA,WAmQA,wBAGA,OAtQA,WAuQA,yBAGA,iBA1QA,WA2QA,cACA,wBAEA,mBAGA,SAjRA,SAiRA,GACA,WACA,eACA,eACA,eACA,mCACA,QACA,oBACA,uBAkBA,YA3SA,WA4SA,iBACA,gBACA,kBACA,mBAEA,mBAIA,SArTA,SAqTA,GACA,qBAIA,cA1TA,WA2TA,qDACA,mBAIA,SAhUA,WAkUA,GADA,kBACA,cAGA,sCACA,GACA,QAEA,uBACA,kBAGA,aA7UA,SA6UA,cACA,gDACA,wBACA,qCAEA,IADA,qBACA,oBACA,WACA,aAGA,oEAEA,4CAEA,OADA,0BACA,OAKA,UAIA,QApWA,SAoWA,SAEA,EAFA,OACA,oBAEA,eAEA,EADA,YACA,8BACA,iBACA,yCACA,SACA,YACA,0BACA,yBAGA,SACA,6BACA,iBACA,yCACA,SACA,UAIA,4BACA,iBACA,yCACA,SACA,eAKA,qBACA,+CACA,8BACA,QACA,YACA,wBAEA,iCACA,yBAGA,YACA,OACA,gCACA,kCAEA,qBACA,oBACA,sBACA,yCACA,uBACA,MACA,mCACA,oBACA,0BACA,MACA,4CACA,qBACA,MACA,QACA,UAEA,mBACA,sCAEA,mBAMA,WA7aA,SA6aA,GACA,sBAGA,YAjbA,SAibA,GACA,sBAGA,UArbA,SAqbA,GACA,6CACA,wCACA,sBAEA,kBA1bA,SA0bA,GACA,sBAGA,iBA9bA,SA8bA,GACA,sBAGA,wBAlcA,SAkcA,GACA,sBAEA,cArcA,SAqcA,KACA,iDACA,IACA,OACA,cACA,KACA,KACA,OACA,YAGA,mBAGA,UAndA,SAmdA,GACA,cACA,sCAIA,QAzdA,SAydA,GACA,gBACA,iBACA,sBACA,wBAIA,UAjeA,SAieA,GACA,oBACA,6BACA,2BACA,sBAIA,WAzeA,SAyeA,GACA,qBAGA,sCACA,kDACA,qBACA,iBAIA,YApfA,SAofA,cACA,kBACA,sBACA,oBACA,yCACA,mBACA,MAGA,YA7fA,WA8fA,kBACA,sBACA,2BACA,iBACA,sBAGA,SArgBA,SAqgBA,GACA,mBAGA,mBAEA,2CACA,iBACA,6BAEA,iBACA,8BAIA,SAphBA,SAohBA,GACA,iBAGA,kBACA,sBACA,2BACA,uBAGA,UA9hBA,SA8hBA,GAEA,GADA,gCACA,cAaA,0BAbA,CACA,qCACA,OACA,SACA,oBAEA,iCACA,uBACA,eACA,eACA,iBACA,wBAIA,kBAGA,YAljBA,WAmjBA,kBACA,4BAEA,QAtjBA,aAyjBA,YAzjBA,WA0jBA,WACA,aACA,WACA,kBACA,oBACA,cACA,sBACA,OACA,cACA,QACA,cACA,iCAEA,oBACA,OACA,mBACA,yBACA,aAEA,2BACA,UACA,0BAOA,YAtlBA,WAulBA,kBACA,gBACA,mBACA,qBAEA,QA5lBA,SA4lBA,GACA,eACA,SACA,oCAEA,gBACA,OACA,kBACA,+BACA,oBACA,8DAEA,iBACA,6B;;;;2DChlCA,8rCAAipC,eAAG,G;;;;;;;;6DCAppC,+SAAiU,2B;;;;6DCAjU,OAAe,yBACJC,EAAUzD,QAAQ0D,iBACpBD,EAAUzD,QAAQ0D,eAAiB,O","file":"pages/xiaoxi_list/room.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/xiaoxi_list/room.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./room.vue?vue&type=template&id=d8e9f394&filter-modules=eyJmaWx0ZXIiOnsidHlwZSI6InNjcmlwdCIsImNvbnRlbnQiOiIiLCJzdGFydCI6NzQ2NiwiYXR0cnMiOnsibW9kdWxlIjoiZmlsdGVyIiwibGFuZyI6Ind4cyIsInNyYyI6Ii4uLy4uL3V0aWxzL2ZpbHRlci53eHMifSwiZW5kIjo3NDY2fX0%3D&\"\nvar renderjs\nimport script from \"./room.vue?vue&type=script&lang=js&\"\nexport * from \"./room.vue?vue&type=script&lang=js&\"\nimport style0 from \"./room.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"../../utils/filter.wxs?vue&type=custom&index=0&blockType=script&issuerPath=E%3A%5CphpStudy%5CWWW%5C68_yibeitong%5Cpages%5Cxiaoxi_list%5Croom.vue&module=filter&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"pages/xiaoxi_list/room.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./room.vue?vue&type=template&id=d8e9f394&filter-modules=eyJmaWx0ZXIiOnsidHlwZSI6InNjcmlwdCIsImNvbnRlbnQiOiIiLCJzdGFydCI6NzQ2NiwiYXR0cnMiOnsibW9kdWxlIjoiZmlsdGVyIiwibGFuZyI6Ind4cyIsInNyYyI6Ii4uLy4uL3V0aWxzL2ZpbHRlci53eHMifSwiZW5kIjo3NDY2fX0%3D&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.msgList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var m0 = index == 0 ? _vm.timeFliter(item.time) : null\n    var m1 = !(index == 0) && index > 0 ? _vm.gettime1(index - 1) : null\n    var m2 =\n      item.flow != \"out\" && !item.avatar\n        ? _vm.getimg(\"/static/images/tx_m2.jpg\")\n        : null\n    var m3 =\n      item.type == _vm.TIM.TYPES.MSG_TEXT\n        ? _vm.nodesFliter(item.payload.text)\n        : null\n    var m4 =\n      item.type == _vm.TIM.TYPES.MSG_CUSTOM && item.payload.data == \"custom1\"\n        ? _vm.getarg(item.payload.extension, \"a\", item.payload.data)\n        : null\n    var m5 =\n      item.type == _vm.TIM.TYPES.MSG_CUSTOM && item.payload.data == \"custom1\"\n        ? _vm.getarg(item.payload.extension, \"a1\", item.payload.data)\n        : null\n    var m6 =\n      item.type == _vm.TIM.TYPES.MSG_CUSTOM && item.payload.data == \"custom1\"\n        ? _vm.getarg(item.payload.extension, \"a2\", item.payload.data)\n        : null\n    var m7 =\n      item.type == _vm.TIM.TYPES.MSG_CUSTOM && item.payload.data == \"custom1\"\n        ? _vm.getarg(item.payload.extension, \"a3\", item.payload.data)\n        : null\n    var m8 =\n      item.type == _vm.TIM.TYPES.MSG_CUSTOM &&\n      item.payload.data == \"custom_good\"\n        ? _vm.getarg(item.payload.extension, \"a2\", item.payload.data)\n        : null\n    var m9 =\n      item.type == _vm.TIM.TYPES.MSG_CUSTOM &&\n      item.payload.data == \"custom_good\"\n        ? _vm.getarg(item.payload.extension, \"a3\", item.payload.data)\n        : null\n    var m10 =\n      item.type == _vm.TIM.TYPES.MSG_CUSTOM &&\n      item.payload.data == \"custom_good\"\n        ? _vm.getarg(item.payload.extension, \"a\", item.payload.data)\n        : null\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n      m2: m2,\n      m3: m3,\n      m4: m4,\n      m5: m5,\n      m6: m6,\n      m7: m7,\n      m8: m8,\n      m9: m9,\n      m10: m10\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isFocus = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.isFocus = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./room.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./room.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"content\" @touchstart=\"hideDrawer\">\r\n\t\t\t<!-- <scroll-view class=\"msg-list\" scroll-y=\"true\" :scroll-with-animation=\"scrollAnimation\" :scroll-top=\"scrollTop\"\r\n\t\t\t :scroll-into-view=\"scrollToView\" @scrolltoupper=\"loadHistory\" upper-threshold=\"50\"> -->\r\n\t\t\t<view class=\"msg-list\">\r\n\t\t\t\t<view class=\"msg-list1\">\r\n\t\t\t\t\t<!-- 加载历史数据waitingUI -->\r\n\t\t\t\t\t<view class=\"loading\" v-if=\"isHistoryLoading\">\r\n\t\t\t\t\t\t<view class=\"spinner\">\r\n\t\t\t\t\t\t\t<view class=\"rect1\"></view>\r\n\t\t\t\t\t\t\t<view class=\"rect2\"></view>\r\n\t\t\t\t\t\t\t<view class=\"rect3\"></view>\r\n\t\t\t\t\t\t\t<view class=\"rect4\"></view>\r\n\t\t\t\t\t\t\t<view class=\"rect5\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"row\" v-for=\"(item,index) in msgList\" :key=\"index\" :id=\"item.ID\">\r\n\t\t\t\t\t\t<view class=\"msg_time\">\r\n\t\t\t\t\t\t\t<view class=\"time\" v-if=\"index==0\">{{timeFliter(item.time)}}</view>\r\n\t\t\t\t\t\t\t<view class=\"time\" v-else-if=\"index>0\">{{gettime1(index-1)}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 用户消息 -->\r\n\t\t\t\t\t\t<block>\r\n\t\t\t\t\t\t\t<!-- 自己发出的消息 my -->\r\n\t\t\t\t\t\t\t<view  :class=\"item.flow=='out'?'my':'other'\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- 左-头像 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"item.flow!='out'\" class=\"left\">\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"item.avatar\" :src=\"item.avatar\"></image>\r\n\t\t\t\t\t\t\t\t\t<image v-else :src=\"getimg('/static/images/tx_m2.jpg')\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 左-消息 -->\r\n\t\t\t\t\t\t\t\t<view  :class=\"item.flow=='out'?'left':'right'\">\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<!-- 文字消息 -->\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.type==TIM.TYPES.MSG_TEXT\" class=\"bubble\">\r\n\t\t\t\t\t\t\t\t\t\t<rich-text :nodes=\"nodesFliter(item.payload.text)\"></rich-text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<!-- 图片消息 -->\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.type==TIM.TYPES.MSG_IMAGE\" class=\"bubble\">\r\n\t\t\t\t\t\t\t\t\t\t<image @tap=\"previmg\" :data-url=\"item.payload.imageInfoArray[0].imageUrl\" :src=\"item.payload.imageInfoArray[0].imageUrl\"\r\n\t\t\t\t\t\t\t\t\t\t mode=\"aspectFill\" style=\"width: 240upx;height: 240upx;\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<!-- 自定义消息 -->\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.type==TIM.TYPES.MSG_CUSTOM\" class=\"bubble\">\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.payload.data=='custom'\">{{item.payload.data}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.payload.data=='custom'\">{{item.payload.description}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.payload.data=='custom'\">{{item.payload.extension}}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.payload.data=='custom1'\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- {{JSON.parse(item.payload.extension)}} -->\r\n\t\t\t\t\t\t\t\t\t\t\t{{'自定义参数1:'+getarg(item.payload.extension,'a',item.payload.data)}}\r\n\t\t\t\t\t\t\t\t\t\t\t{{'自定义参数2:'+getarg(item.payload.extension,'a1',item.payload.data)}}\r\n\t\t\t\t\t\t\t\t\t\t\t{{'自定义参数3:'+getarg(item.payload.extension,'a2',item.payload.data)}}\r\n\t\t\t\t\t\t\t\t\t\t\t{{'自定义参数4:'+getarg(item.payload.extension,'a3',item.payload.data)}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.payload.data=='custom_good'\" class=\"chat_box\" @tap=\"jump\" :data-url=\"'/pages/details/details?id='+getarg(item.payload.extension,'a2',item.payload.data)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image class=\"chat_img\" :src=\"getarg(item.payload.extension,'a3',item.payload.data)\" mode=\"aspectFill\" style=\"width: 196upx;height: 196upx;\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"chat_msg\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"gb_name oh2\">{{item.payload.description}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"gb_msg  oh1\">{{'￥'+getarg(item.payload.extension,'a',item.payload.data)}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<!-- <view class=\"gb_msg oh1\">{{'自定义参数2:'+getarg(item.payload.extension,'a1',item.payload.data)}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"gb_msg oh1\">{{'自定义参数3:'+getarg(item.payload.extension,'a2',item.payload.data)}}</view> -->\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- 右-头像 -->\r\n\t\t\t\t\t\t\t\t<view v-if=\"item.flow=='out'\" class=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t<image :src=\"loginDatas.avatarurl\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- </scroll-view> -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 抽屉栏 -->\r\n\t\t<view class=\"popup-layer\" :class=\"popupLayerClass\" @touchmove.stop.prevent=\"discard\">\r\n\t\t\t<scroll-view  :class=\"{hidden:hideEmoji}\" scroll-y=\"true\" style=\"height: 100%;\">\r\n\t\t\t\t<view class=\"rong-emoji-content_list\" >\r\n\t\t\t\t\t<block v-for=\"(page,pid) in emojiList\" :key=\"pid\">\r\n\t\t\t\t\t\t<view v-for=\"(em,eid) in page\" :key=\"eid\" @tap=\"addEmoji(em)\" class=\"rong-emoji-content_li\">\r\n\t\t\t\t\t\t\t<image  class='rong-emoji-content' mode=\"widthFix\" :src=\"filter.imgIP('/static_s/51daiyan/img/emoji/'+em.url)\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!-- 表情 -->\r\n\t\t\t<!-- <swiper class=\"emoji-swiper\" :class=\"{hidden:hideEmoji}\" indicator-dots=\"true\" duration=\"150\">\r\n\t\t\t\t<swiper-item v-for=\"(page,pid) in emojiList\" :key=\"pid\">\r\n\t\t\t\t\t<view v-for=\"(em,eid) in page\" :key=\"eid\" @tap=\"addEmoji(em)\">\r\n\t\t\t\t\t\t<image mode=\"widthFix\" :src=\"filter.imgIP('/static_s/51daiyan/img/emoji/'+em.url)\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper> -->\r\n\t\t\t<!-- 更多功能 相册-拍照-红包 -->\r\n\t\t\t<view class=\"more-layer\" :class=\"{hidden:hideMore}\">\r\n\t\t\t\t<view class=\"list\">\r\n\t\t\t\t\t<view class=\"box\" @tap=\"chooseImage\">\r\n\t\t\t\t\t\t<view class=\"icon tupian2\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"box\" @tap=\"camera\">\r\n\t\t\t\t\t\t<view class=\"icon paizhao\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"box\" @tap=\"jump\" :data-url=\"'/pagesA/xiaoxi_set/xiaoxi_set?G_id='+toUserId\">\r\n\t\t\t\t\t\t<view class=\" iconfont iconicon_huabanfuben\" style=\"font-size: 70upx;\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"msg_type==2\" class=\"box\" @tap=\"customModal\">\r\n\t\t\t\t\t\t<view class=\"iconfont iconzidingyi\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 底部输入栏 -->\r\n\t\t<view class=\"input-box\" :class=\"popupLayerClass\" @touchmove.stop.prevent=\"discard\">\r\n\t\t\t<!-- H5下不能录音，输入栏布局改动一下 -->\r\n\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t<!-- <view class=\"voice\">\r\n\t\t\t\t<view class=\"icon\" :class=\"isVoice?'jianpan':'yuyin'\" @tap=\"switchVoice\"></view>\r\n\t\t\t</view> -->\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t<view class=\"more\" @tap=\"showMore\">\r\n\t\t\t\t<view class=\"icon add\"></view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<view class=\"textbox\">\r\n\t\t\t\t<view class=\"voice-mode\" :class=\"[isVoice?'':'hidden',recording?'recording':'']\" @touchstart=\"voiceBegin\"\r\n\t\t\t\t @touchmove.stop.prevent=\"voiceIng\" @touchend=\"voiceEnd\" @touchcancel=\"voiceCancel\">{{voiceTis}}</view>\r\n\t\t\t\t<view class=\"text-mode\" :class=\"isVoice?'hidden':''\">\r\n\t\t\t\t\t<view class=\"box\" style=\"flex: 1;\">\r\n\t\t\t\t\t\t<!-- <textarea auto-height=\"true\" v-model=\"textMsg\" @focus=\"textareaFocus\" cursor-spacing=\"18\" /> -->\r\n\t\t\t\t\t\t<input type=\"text\" class=\"input\" v-model=\"textMsg\" confirm-type=\"send\" :focus=\"isFocus\" @focus=\"isFocus = true\"\r\n\t\t\t\t\t\t @blur=\"isFocus = false\" @confirm='sendText' cursor-spacing=\"18\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"em\" @tap=\"chooseEmoji\">\r\n\t\t\t\t\t\t<view class=\"icon biaoqing\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #ifndef H5 -->\r\n\t\t\t<view class=\"more\" @tap=\"showMore\">\r\n\t\t\t\t<view class=\"icon add\"></view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<view class=\"send\" :class=\"isVoice?'hidden':''\" @tap=\"sendText\">\r\n\t\t\t\t<view class=\"btn\">发送</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 录音UI效果 -->\r\n\t\t<view class=\"record\" :class=\"recording?'':'hidden'\">\r\n\t\t\t<view class=\"ing\" :class=\"willStop?'hidden':''\">\r\n\t\t\t\t<view class=\"icon luyin2\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cancel\" :class=\"willStop?'':'hidden'\">\r\n\t\t\t\t<view class=\"icon chehui\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tis\" :class=\"willStop?'change':''\">{{recordTis}}</view>\r\n\t\t</view>\r\n\r\n\r\n\r\n\t</view>\r\n</template>\r\n<script module=\"filter\" lang=\"wxs\" src=\"../../utils/filter.wxs\"></script>\r\n<script>\r\n\timport service from '../../service.js';\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\timport userList from '../../common/tim/user.js'\r\n\r\n\tvar that\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmsg_type: 1, //客服  2\r\n\t\t\t\tgoods_id: '',\r\n\t\t\t\tgoods_name: '',\r\n\t\t\t\tgoods_img: '',\r\n\t\t\t\tgoods_pri: '',\r\n\t\t\t\t//TIM变量\r\n\t\t\t\tconversationActive: null,\r\n\t\t\t\ttoUserId: '',\r\n\t\t\t\ttoUserInfo: null,\r\n\t\t\t\tuserInfo: null,\r\n\t\t\t\tnextReqMessageID: '',\r\n\t\t\t\tcount: 15,\r\n\t\t\t\tisCompleted: '',\r\n\t\t\t\tmsgList: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttime:'1611316603',\r\n\t\t\t\t\t\tflow:'out',\r\n\t\t\t\t\t\ttype:'TIMTextElem',\r\n\t\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\t\ttext:'你好'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttime:'1611316613',\r\n\t\t\t\t\t\tflow:'',\r\n\t\t\t\t\t\ttype:'TIMTextElem',\r\n\t\t\t\t\t\tpayload:{\r\n\t\t\t\t\t\t\ttext:'你好'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tTIM: null,\r\n\r\n\r\n\t\t\t\t//文字消息\r\n\t\t\t\ttextMsg: '',\r\n\t\t\t\t//消息列表\r\n\t\t\t\tisHistoryLoading: false,\r\n\t\t\t\tscrollAnimation: false,\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tscrollToView: '',\r\n\r\n\t\t\t\tmsgImgList: [],\r\n\t\t\t\tmyuid: 0,\r\n\r\n\t\t\t\t//录音相关参数\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\t//H5不能录音\r\n\t\t\t\tRECORDER: uni.getRecorderManager(),\r\n\t\t\t\t// #endif\r\n\t\t\t\tisVoice: false,\r\n\t\t\t\tvoiceTis: '按住 说话',\r\n\t\t\t\trecordTis: \"手指上滑 取消发送\",\r\n\t\t\t\trecording: false,\r\n\t\t\t\twillStop: false,\r\n\t\t\t\tinitPoint: {\r\n\t\t\t\t\tidentifier: 0,\r\n\t\t\t\t\tY: 0\r\n\t\t\t\t},\r\n\t\t\t\trecordTimer: null,\r\n\t\t\t\trecordLength: 0,\r\n\r\n\t\t\t\t//播放语音相关参数\r\n\t\t\t\tAUDIO: uni.createInnerAudioContext(),\r\n\t\t\t\tplayMsgid: null,\r\n\t\t\t\tVoiceTimer: null,\r\n\t\t\t\t// 抽屉参数\r\n\t\t\t\tpopupLayerClass: '',\r\n\t\t\t\t// more参数\r\n\t\t\t\thideMore: true,\r\n\t\t\t\t//表情定义\r\n\t\t\t\thideEmoji: true,\r\n\t\t\t\temojiList: this.$common.emojiList,\r\n\t\t\t\t//表情图片图床名称 ，由于我上传的第三方图床名称会有改变，所以有此数据来做对应，您实际应用中应该不需要\r\n\t\t\t\tonlineEmoji: {\r\n\t\t\t\t\t\"100.gif\": \"AbNQgA.gif\",\r\n\t\t\t\t\t\"101.gif\": \"AbN3ut.gif\",\r\n\t\t\t\t\t\"102.gif\": \"AbNM3d.gif\",\r\n\t\t\t\t\t\"103.gif\": \"AbN8DP.gif\",\r\n\t\t\t\t\t\"104.gif\": \"AbNljI.gif\",\r\n\t\t\t\t\t\"105.gif\": \"AbNtUS.gif\",\r\n\t\t\t\t\t\"106.gif\": \"AbNGHf.gif\",\r\n\t\t\t\t\t\"107.gif\": \"AbNYE8.gif\",\r\n\t\t\t\t\t\"108.gif\": \"AbNaCQ.gif\",\r\n\t\t\t\t\t\"109.gif\": \"AbNN4g.gif\",\r\n\t\t\t\t\t\"110.gif\": \"AbN0vn.gif\",\r\n\t\t\t\t\t\"111.gif\": \"AbNd3j.gif\",\r\n\t\t\t\t\t\"112.gif\": \"AbNsbV.gif\",\r\n\t\t\t\t\t\"113.gif\": \"AbNwgs.gif\",\r\n\t\t\t\t\t\"114.gif\": \"AbNrD0.gif\",\r\n\t\t\t\t\t\"115.gif\": \"AbNDuq.gif\",\r\n\t\t\t\t\t\"116.gif\": \"AbNg5F.gif\",\r\n\t\t\t\t\t\"117.gif\": \"AbN6ET.gif\",\r\n\t\t\t\t\t\"118.gif\": \"AbNcUU.gif\",\r\n\t\t\t\t\t\"119.gif\": \"AbNRC4.gif\",\r\n\t\t\t\t\t\"120.gif\": \"AbNhvR.gif\",\r\n\t\t\t\t\t\"121.gif\": \"AbNf29.gif\",\r\n\t\t\t\t\t\"122.gif\": \"AbNW8J.gif\",\r\n\t\t\t\t\t\"123.gif\": \"AbNob6.gif\",\r\n\t\t\t\t\t\"124.gif\": \"AbN5K1.gif\",\r\n\t\t\t\t\t\"125.gif\": \"AbNHUO.gif\",\r\n\t\t\t\t\t\"126.gif\": \"AbNIDx.gif\",\r\n\t\t\t\t\t\"127.gif\": \"AbN7VK.gif\",\r\n\t\t\t\t\t\"128.gif\": \"AbNb5D.gif\",\r\n\t\t\t\t\t\"129.gif\": \"AbNX2d.gif\",\r\n\t\t\t\t\t\"130.gif\": \"AbNLPe.gif\",\r\n\t\t\t\t\t\"131.gif\": \"AbNjxA.gif\",\r\n\t\t\t\t\t\"132.gif\": \"AbNO8H.gif\",\r\n\t\t\t\t\t\"133.gif\": \"AbNxKI.gif\",\r\n\t\t\t\t\t\"134.gif\": \"AbNzrt.gif\",\r\n\t\t\t\t\t\"135.gif\": \"AbU9Vf.gif\",\r\n\t\t\t\t\t\"136.gif\": \"AbUSqP.gif\",\r\n\t\t\t\t\t\"137.gif\": \"AbUCa8.gif\",\r\n\t\t\t\t\t\"138.gif\": \"AbUkGQ.gif\",\r\n\t\t\t\t\t\"139.gif\": \"AbUFPg.gif\",\r\n\t\t\t\t\t\"140.gif\": \"AbUPIS.gif\",\r\n\t\t\t\t\t\"141.gif\": \"AbUZMn.gif\",\r\n\t\t\t\t\t\"142.gif\": \"AbUExs.gif\",\r\n\t\t\t\t\t\"143.gif\": \"AbUA2j.gif\",\r\n\t\t\t\t\t\"144.gif\": \"AbUMIU.gif\",\r\n\t\t\t\t\t\"145.gif\": \"AbUerq.gif\",\r\n\t\t\t\t\t\"146.gif\": \"AbUKaT.gif\",\r\n\t\t\t\t\t\"147.gif\": \"AbUmq0.gif\",\r\n\t\t\t\t\t\"148.gif\": \"AbUuZV.gif\",\r\n\t\t\t\t\t\"149.gif\": \"AbUliF.gif\",\r\n\t\t\t\t\t\"150.gif\": \"AbU1G4.gif\",\r\n\t\t\t\t\t\"151.gif\": \"AbU8z9.gif\",\r\n\t\t\t\t\t\"152.gif\": \"AbU3RJ.gif\",\r\n\t\t\t\t\t\"153.gif\": \"AbUYs1.gif\",\r\n\t\t\t\t\t\"154.gif\": \"AbUJMR.gif\",\r\n\t\t\t\t\t\"155.gif\": \"AbUadK.gif\",\r\n\t\t\t\t\t\"156.gif\": \"AbUtqx.gif\",\r\n\t\t\t\t\t\"157.gif\": \"AbUUZ6.gif\",\r\n\t\t\t\t\t\"158.gif\": \"AbUBJe.gif\",\r\n\t\t\t\t\t\"159.gif\": \"AbUdIO.gif\",\r\n\t\t\t\t\t\"160.gif\": \"AbU0iD.gif\",\r\n\t\t\t\t\t\"161.gif\": \"AbUrzd.gif\",\r\n\t\t\t\t\t\"162.gif\": \"AbUDRH.gif\",\r\n\t\t\t\t\t\"163.gif\": \"AbUyQA.gif\",\r\n\t\t\t\t\t\"164.gif\": \"AbUWo8.gif\",\r\n\t\t\t\t\t\"165.gif\": \"AbU6sI.gif\",\r\n\t\t\t\t\t\"166.gif\": \"AbU2eP.gif\",\r\n\t\t\t\t\t\"167.gif\": \"AbUcLt.gif\",\r\n\t\t\t\t\t\"168.gif\": \"AbU4Jg.gif\",\r\n\t\t\t\t\t\"169.gif\": \"AbURdf.gif\",\r\n\t\t\t\t\t\"170.gif\": \"AbUhFS.gif\",\r\n\t\t\t\t\t\"171.gif\": \"AbU5WQ.gif\",\r\n\t\t\t\t\t\"172.gif\": \"AbULwV.gif\",\r\n\t\t\t\t\t\"173.gif\": \"AbUIzj.gif\",\r\n\t\t\t\t\t\"174.gif\": \"AbUTQs.gif\",\r\n\t\t\t\t\t\"175.gif\": \"AbU7yn.gif\",\r\n\t\t\t\t\t\"176.gif\": \"AbUqe0.gif\",\r\n\t\t\t\t\t\"177.gif\": \"AbUHLq.gif\",\r\n\t\t\t\t\t\"178.gif\": \"AbUOoT.gif\",\r\n\t\t\t\t\t\"179.gif\": \"AbUvYF.gif\",\r\n\t\t\t\t\t\"180.gif\": \"AbUjFU.gif\",\r\n\t\t\t\t\t\"181.gif\": \"AbaSSJ.gif\",\r\n\t\t\t\t\t\"182.gif\": \"AbUxW4.gif\",\r\n\t\t\t\t\t\"183.gif\": \"AbaCO1.gif\",\r\n\t\t\t\t\t\"184.gif\": \"Abapl9.gif\",\r\n\t\t\t\t\t\"185.gif\": \"Aba9yR.gif\",\r\n\t\t\t\t\t\"186.gif\": \"AbaFw6.gif\",\r\n\t\t\t\t\t\"187.gif\": \"Abaiex.gif\",\r\n\t\t\t\t\t\"188.gif\": \"AbakTK.gif\",\r\n\t\t\t\t\t\"189.gif\": \"AbaZfe.png\",\r\n\t\t\t\t\t\"190.gif\": \"AbaEFO.gif\",\r\n\t\t\t\t\t\"191.gif\": \"AbaVYD.gif\",\r\n\t\t\t\t\t\"192.gif\": \"AbamSH.gif\",\r\n\t\t\t\t\t\"193.gif\": \"AbaKOI.gif\",\r\n\t\t\t\t\t\"194.gif\": \"Abanld.gif\",\r\n\t\t\t\t\t\"195.gif\": \"Abau6A.gif\",\r\n\t\t\t\t\t\"196.gif\": \"AbaQmt.gif\",\r\n\t\t\t\t\t\"197.gif\": \"Abal0P.gif\",\r\n\t\t\t\t\t\"198.gif\": \"AbatpQ.gif\",\r\n\t\t\t\t\t\"199.gif\": \"Aba1Tf.gif\",\r\n\t\t\t\t\t\"200.png\": \"Aba8k8.png\",\r\n\t\t\t\t\t\"201.png\": \"AbaGtS.png\",\r\n\t\t\t\t\t\"202.png\": \"AbaJfg.png\",\r\n\t\t\t\t\t\"203.png\": \"AbaNlj.png\",\r\n\t\t\t\t\t\"204.png\": \"Abawmq.png\",\r\n\t\t\t\t\t\"205.png\": \"AbaU6s.png\",\r\n\t\t\t\t\t\"206.png\": \"AbaaXn.png\",\r\n\t\t\t\t\t\"207.png\": \"Aba000.png\",\r\n\t\t\t\t\t\"208.png\": \"AbarkT.png\",\r\n\t\t\t\t\t\"209.png\": \"AbastU.png\",\r\n\t\t\t\t\t\"210.png\": \"AbaB7V.png\",\r\n\t\t\t\t\t\"211.png\": \"Abafn1.png\",\r\n\t\t\t\t\t\"212.png\": \"Abacp4.png\",\r\n\t\t\t\t\t\"213.png\": \"AbayhF.png\",\r\n\t\t\t\t\t\"214.png\": \"Abag1J.png\",\r\n\t\t\t\t\t\"215.png\": \"Aba2c9.png\",\r\n\t\t\t\t\t\"216.png\": \"AbaRXR.png\",\r\n\t\t\t\t\t\"217.png\": \"Aba476.png\",\r\n\t\t\t\t\t\"218.png\": \"Abah0x.png\",\r\n\t\t\t\t\t\"219.png\": \"Abdg58.png\"\r\n\t\t\t\t},\r\n\t\t\t\t//红包相关参数\r\n\t\t\t\twindowsState: '',\r\n\t\t\t\tredenvelopeData: {\r\n\t\t\t\t\trid: null, //红包ID\r\n\t\t\t\t\tfrom: null,\r\n\t\t\t\t\tface: null,\r\n\t\t\t\t\tblessing: null,\r\n\t\t\t\t\tmoney: null\r\n\t\t\t\t},\r\n\r\n\r\n\t\t\t\tcustomModalVisible: false,\r\n\t\t\t\tcustomData: '',\r\n\t\t\t\tcustomDescription: '',\r\n\t\t\t\tcustomExtension: '',\r\n\t\t\t\tfocusedInput: '',\r\n\r\n\r\n\t\t\t\tisShow: false,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState({\r\n\t\t\t\tloginDatas: 'loginDatas',\r\n\t\t\t\thasLogin: 'hasLogin',\r\n\t\t\t\tcurrentMessageList: state => state.currentMessageList,\r\n\t\t\t})\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tcurrentMessageList(newVal, oldVal) {\r\n\t\t\t\tthis.msgList = newVal\r\n\t\t\t\tthis.screenMsg(newVal, oldVal)\r\n\t\t\t},\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthat = this\r\n\t\t\tconsole.log('对方聊天id' + option.id)\r\n\t\t\tconsole.log('对方聊天type' + option.type)\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: '物美团购群1'\r\n\t\t\t})\r\n\t\t\tif (!this.hasLogin) {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tconsole.log(option.goods_name)\r\n\t\t\tconsole.log(option.goods_img)\r\n\t\t\tconsole.log(option.goods_pri)\r\n\t\t\tthis.goods_name = option.goods_name\r\n\t\t\tthis.goods_img = option.goods_img\r\n\t\t\tthis.goods_pri = option.goods_pri\r\n\t\t\tthis.goods_id = option.goods_id\r\n\t\t\t// if(typeof uni.getStorageSync('userInfo')=='string'){\r\n\t\t\t// \t\tthis.userInfo = JSON.parse(uni.getStorageSync('userInfo'))\r\n\t\t\t// }\r\n\t\t\tif (option.type) {\r\n\t\t\t\tthis.msg_type = option.type\r\n\t\t\t}\r\n\t\t\tthis.toUserId = option.id ? option.id : this.$store.state.toUserId\r\n\t\t\tconsole.log('toUserId===============>' + this.toUserId)\r\n\t\t\tthis.conversationActive = this.$store.state.conversationActive\r\n\t\t\tthis.TIM = this.$TIM\r\n\t\t\t// this.toUserId = 'wenxin'\r\n\t\t\t//获取聊天对象的用户信息---有后端的情况这里 使用后端api请求、\r\n\t\t\t//防止初次聊天的时候 没有对方的基础信息\r\n\t\t\t// this.getmsg()\r\n\t\t\tthis.getMsgList();\r\n\t\t\t//语音自然播放结束\r\n\t\t\tthis.AUDIO.onEnded((res) => {\r\n\t\t\t\tthis.playMsgid = null;\r\n\t\t\t});\r\n\t\t\t// #ifndef H5\r\n\t\t\t//录音开始事件\r\n\t\t\tthis.RECORDER.onStart((e) => {\r\n\t\t\t\tthis.recordBegin(e);\r\n\t\t\t})\r\n\t\t\t//录音结束事件\r\n\t\t\tthis.RECORDER.onStop((e) => {\r\n\t\t\t\tthis.recordEnd(e);\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tvar that = this\r\n\t\t\tthat.isShow = true\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tthat.scrollToBottom()\r\n\t\t\t\tthat.scrollTop = 99999999999999;\r\n\t\t\t\tthat.isHistoryLoading = false;\r\n\t\t\t}, 500)\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t//退出页面 将所有的会话内的消息设置为已读\r\n\t\t\tlet promise = this.tim.setMessageRead({\r\n\t\t\t\tconversationID: this.conversationActive.conversationID\r\n\t\t\t});\r\n\t\t\tpromise.then(function(imResponse) {\r\n\t\t\t\tconsole.log('全部已读')\r\n\t\t\t\t// 已读上报成功\r\n\t\t\t}).catch(function(imError) {\r\n\t\t\t\t// 已读上报失败\r\n\t\t\t\tconsole.warn('setMessageRead error:', imError);\r\n\t\t\t});\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tuni.stopPullDownRefresh();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetimg(img){\r\n\t\t\t\treturn service.getimg(img)\r\n\t\t\t},\r\n\t\t\tgetmsg() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar datas = {\r\n\t\t\t\t\ttoken: that.loginDatas.userToken,\r\n\t\t\t\t\ttype: that.msg_type,\r\n\t\t\t\t\tid: that.toUserId\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 单个请求\r\n\t\t\t\tservice.P_get('/getTx', datas).then(res => {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tthat.toUserInfo = res.data\r\n\t\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\t\ttitle: res.data.name\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '获取对方数据失败'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgettime1(idx) {\r\n\t\t\t\tif (idx < 0) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(idx, idx + 1)\r\n\t\t\t\tvar time = this.msgList[idx].time\r\n\t\t\t\tvar time1 = this.msgList[idx + 1].time\r\n\t\t\t\tconsole.log(this.getchattime(time), this.getchattime(time1))\r\n\t\t\t\tif (this.getchattime(time) != this.getchattime(time1)) {\r\n\t\t\t\t\treturn this.getchattime(time1)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tjump(e) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\t// if(!that.hasLogin){\r\n\t\t\t\t// \tuni.navigateTo({\r\n\t\t\t\t// \t\turl:'/pages/login/login'\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \treturn\r\n\t\t\t\t// }\r\n\t\t\t\tif (that.btn_kg == 1) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.btn_kg = 1\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tthat.btn_kg = 0\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tservice.jump(e)\r\n\t\t\t},\r\n\r\n\t\t\t// 滚动到列表bottom\r\n\t\t\tscrollToBottom() {\r\n\t\t\t\tif (this.isShow) {\r\n\t\t\t\t\twx.pageScrollTo({\r\n\t\t\t\t\t\tscrollTop: 9999999\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetarg(str, arg, type) {\r\n\t\t\t\tif (type == 'custom') {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!str) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(str)\r\n\t\t\t\tvar reg = /\\\\$/gi\r\n\t\t\t\tstr = str.replace(reg, '')\r\n\t\t\t\t// console.log(str)\r\n\t\t\t\tvar jsonstr = JSON.parse(str)\r\n\t\t\t\t// console.log(jsonstr)\r\n\t\t\t\tif (jsonstr.hasOwnProperty(arg)) {\r\n\r\n\t\t\t\t\t// console.log(jsonstr[arg]);\r\n\t\t\t\t\treturn jsonstr[arg]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//聊天的节点加上外层的div\r\n\t\t\tnodesFliter(str) {\r\n\t\t\t\tlet nodeStr = '<div class=\"ltbox_div\" style=\"word-wrap:break-word;line-height:40upx;\">' + str + '</div>'\r\n\t\t\t\treturn nodeStr\r\n\t\t\t},\r\n\t\t\t//时间过滤\r\n\t\t\ttimeFliter(timer) {\r\n\t\t\t\tlet timeData = new Date(timer * 1000)\r\n\t\t\t\tlet str = this.$common.dateTimeFliter(timeData)\r\n\t\t\t\treturn str\r\n\t\t\t},\r\n\t\t\tgetchattime(time) {\r\n\t\t\t\tif (!time) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tvar newYear = new Date().getFullYear(); //目前系统时间是哪一年\r\n\t\t\t\tvar nowMonth = new Date().getMonth() + 1; //目前系统时间是哪一月\r\n\t\t\t\tvar nowDay = new Date().getDate(); //目前系统时间是几号\r\n\t\t\t\ttime = Number(time * 1000)\r\n\t\t\t\tvar sendtime = new Date(time)\r\n\t\t\t\tvar sendYear = sendtime.getFullYear()\r\n\t\t\t\tvar sendMonth = sendtime.getMonth() + 1\r\n\t\t\t\tvar sendDate = sendtime.getDate()\r\n\t\t\t\tvar sendHours = sendtime.getHours()\r\n\t\t\t\tvar sendMinutes = sendtime.getMinutes()\r\n\t\t\t\tif (sendMinutes < 10) {\r\n\t\t\t\t\tsendMinutes = '0' + sendMinutes\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(time)\r\n\t\t\t\tconsole.log(sendtime)\r\n\t\t\t\t// console.log(sendtime.getDate())\r\n\t\t\t\tif (sendYear == newYear) {\r\n\r\n\t\t\t\t\t// console.log(sendDate, nowDay)\r\n\t\t\t\t\tif (sendMonth == nowMonth && sendDate == nowDay) {\r\n\r\n\t\t\t\t\t\treturn sendHours + ':' + sendMinutes\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\treturn sendMonth + '-' + sendDate + ' ' + sendHours + ':' + sendMinutes\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn sendYear + '-' + sendMonth + '-' + sendDate + ' ' + sendHours + ':' + sendMinutes\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 接受消息(定位消息)\r\n\t\t\tscreenMsg(newVal, oldVal) {\r\n\t\t\t\tif (newVal[0] && oldVal[0]) {\r\n\t\t\t\t\tif (newVal[0].ID != oldVal[0].ID && newVal.length >= this.count) {\r\n\r\n\t\t\t\t\t\tlet _index = newVal.length - oldVal.length - 1\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.scrollToView = newVal[_index].ID\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// console.log(this.scrollToView)\r\n\t\t\t\t\t\t//拉取历史记录不用改变定位消息\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//新的消息来了 自动向下滑动到最新消息\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\tthis.scrollToView = newVal[newVal.length - 1].ID\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('*****')\r\n\t\t\t\t\t//第一次拉取历史记录 定位到最后一条消息\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.scrollToView = newVal[newVal.length - 1].ID;\r\n\t\t\t\t\t\tthis.scrollTop = 9999999;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//触发滑动到顶部(加载历史信息记录)\r\n\t\t\tloadHistory(e) {\r\n\t\t\t\tthis.isHistoryLoading = true;\r\n\t\t\t\t// 更多消息列表\r\n\t\t\t\tlet conversationID = this.conversationActive.conversationID\r\n\t\t\t\tlet promise = this.tim.getMessageList({\r\n\t\t\t\t\tconversationID: conversationID,\r\n\t\t\t\t\tnextReqMessageID: this.nextReqMessageID,\r\n\t\t\t\t\tcount: this.count\r\n\t\t\t\t});\r\n\t\t\t\tpromise.then((res) => {\r\n\t\t\t\t\tthis.$store.commit('unshiftCurrentMessageList', res.data.messageList)\r\n\t\t\t\t\tthis.nextReqMessageID = res.data.nextReqMessageID // 用于续拉，分页续拉时需传入该字段。\r\n\t\t\t\t\tthis.isCompleted = res.data.isCompleted\r\n\t\t\t\t\tthis.isHistoryLoading = false;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// //这段代码很重要，不然每次加载历史数据都会跳到顶部\r\n\t\t\t\t// this.$nextTick(function() {\r\n\t\t\t\t// \tthis.scrollToView = this.nextReqMessageID;//跳转上次的第一行信息位置\r\n\t\t\t\t// \tthis.$nextTick(function() {\r\n\t\t\t\t// \t\tthis.scrollAnimation = true;//恢复滚动动画\r\n\t\t\t\t// \t});\t\r\n\t\t\t\t// });\r\n\r\n\t\t\t},\r\n\t\t\t// 加载初始页面消息\r\n\t\t\tgetMsgList() {\r\n\t\t\t\t// 历史消息列表\r\n\t\t\t\tlet conversationID = this.conversationActive.conversationID\r\n\t\t\t\tlet promise = this.tim.getMessageList({\r\n\t\t\t\t\tconversationID: conversationID,\r\n\t\t\t\t\tcount: this.count\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(conversationID)\r\n\t\t\t\tconsole.log(this.count)\r\n\t\t\t\tconsole.log(promise)\r\n\t\t\t\tpromise.then((res) => {\r\n\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\tif (!res.data.nextReqMessageID) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$store.commit('pushCurrentMessageList', res.data.messageList)\r\n\t\t\t\t\tthis.nextReqMessageID = res.data.nextReqMessageID // 用于续拉，分页续拉时需传入该字段。\r\n\t\t\t\t\tthis.isCompleted = res.data.isCompleted\r\n\t\t\t\t\tthis.scrollToView = res.data.messageList[res.data.messageList.length - 1].ID\r\n\t\t\t\t\t// 滚动到底部\r\n\t\t\t\t\tsetTimeout(function (){\r\n\t\t\t\t\t\tthis.scrollTop = 9999;\r\n\t\t\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\t\t\tthis.scrollAnimation = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},10)\r\n\t\t\t\t\t// this.$nextTick(function() {\r\n\t\t\t\t\t// \t//进入页面滚动到底部\r\n\t\t\t\t\t// \tthis.scrollTop = 9999;\r\n\t\t\t\t\t// \tthis.$nextTick(function() {\r\n\t\t\t\t\t// \t\tthis.scrollAnimation = true;\r\n\t\t\t\t\t// \t});\r\n\t\t\t\t\t// });\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//处理图片尺寸，如果不处理宽高，新进入页面加载图片时候会闪\r\n\t\t\tsetPicSize(content) {\r\n\t\t\t\t// 让图片最长边等于设置的最大长度，短边等比例缩小，图片控件真实改变，区别于aspectFit方式。\r\n\t\t\t\tlet maxW = uni.upx2px(350); //350是定义消息图片最大宽度\r\n\t\t\t\tlet maxH = uni.upx2px(350); //350是定义消息图片最大高度\r\n\t\t\t\tif (content.w > maxW || content.h > maxH) {\r\n\t\t\t\t\tlet scale = content.w / content.h;\r\n\t\t\t\t\tcontent.w = scale > 1 ? maxW : maxH * scale;\r\n\t\t\t\t\tcontent.h = scale > 1 ? maxW / scale : maxH;\r\n\t\t\t\t}\r\n\t\t\t\treturn content;\r\n\t\t\t},\r\n\t\t\t//更多功能(点击+弹出) \r\n\t\t\tshowMore() {\r\n\t\t\t\tthis.isVoice = false;\r\n\t\t\t\tthis.hideEmoji = true;\r\n\t\t\t\tif (this.hideMore) {\r\n\t\t\t\t\tthis.hideMore = false;\r\n\t\t\t\t\tthis.openDrawer();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.hideDrawer();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 打开抽屉\r\n\t\t\topenDrawer() {\r\n\t\t\t\tthis.popupLayerClass = 'showLayer';\r\n\t\t\t},\r\n\t\t\t// 隐藏抽屉\r\n\t\t\thideDrawer() {\r\n\t\t\t\tthis.popupLayerClass = '';\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.hideMore = true;\r\n\t\t\t\t\tthis.hideEmoji = true;\r\n\t\t\t\t}, 150);\r\n\t\t\t},\r\n\t\t\t// 选择图片发送\r\n\t\t\tchooseImage() {\r\n\t\t\t\tthis.getImage('album');\r\n\t\t\t},\r\n\t\t\t//拍照发送\r\n\t\t\tcamera() {\r\n\t\t\t\tthis.getImage('camera');\r\n\t\t\t},\r\n\t\t\t//发红包\r\n\t\t\thandRedEnvelopes() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: 'HM-hand/HM-hand'\r\n\t\t\t\t});\r\n\t\t\t\tthis.hideDrawer();\r\n\t\t\t},\r\n\t\t\t//选照片 or 拍照\r\n\t\t\tgetImage(type) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tthat.hideDrawer();\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tsourceType: [type],\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthat.sendMsg(res, 'img');\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t/*for(let i=0;i<res.tempFilePaths.length;i++){\r\n\t\t\t\t\t\t\tuni.getImageInfo({\r\n\t\t\t\t\t\t\t\tsrc: res.tempFilePaths[i],\r\n\t\t\t\t\t\t\t\tsuccess: (image)=>{\r\n\t\t\t\t\t\t\t\t\tconsole.log(image)\r\n\t\t\t\t\t\t\t\t\tconsole.log(image.width);\r\n\t\t\t\t\t\t\t\t\tconsole.log(image.height);\r\n\t\t\t\t\t\t\t\t\tlet msg = {url:res.tempFilePaths[i],w:image.width,h:image.height};\r\n\t\t\t\t\t\t\t\t\tthat.sendMsg(msg,'img');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}*/\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 选择表情\r\n\t\t\tchooseEmoji() {\r\n\t\t\t\tthis.hideMore = true;\r\n\t\t\t\tif (this.hideEmoji) {\r\n\t\t\t\t\tthis.hideEmoji = false;\r\n\t\t\t\t\tthis.openDrawer();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.hideDrawer();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//添加表情\r\n\t\t\taddEmoji(em) {\r\n\t\t\t\tthis.textMsg += em.alt;\r\n\t\t\t},\r\n\r\n\t\t\t//获取焦点，如果不是选表情ing,则关闭抽屉\r\n\t\t\ttextareaFocus() {\r\n\t\t\t\tif (this.popupLayerClass == 'showLayer' && this.hideMore == false) {\r\n\t\t\t\t\tthis.hideDrawer();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 发送文字消息\r\n\t\t\tsendText() {\r\n\t\t\t\tthis.hideDrawer(); //隐藏抽屉\r\n\t\t\t\tif (!this.textMsg) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet content = this.replaceEmoji(this.textMsg);\r\n\t\t\t\tlet msg = {\r\n\t\t\t\t\ttext: content\r\n\t\t\t\t}\r\n\t\t\t\tthis.sendMsg(msg, 'text');\r\n\t\t\t\tthis.textMsg = ''; //清空输入框\r\n\t\t\t},\r\n\t\t\t//替换表情符号为图片\r\n\t\t\treplaceEmoji(str) {\r\n\t\t\t\tlet replacedStr = str.replace(/\\[([^(\\]|\\[)]*)\\]/g, (item, index) => {\r\n\t\t\t\t\tconsole.log(\"item: \" + item);\r\n\t\t\t\t\tfor (let i = 0; i < this.emojiList.length; i++) {\r\n\t\t\t\t\t\tlet row = this.emojiList[i];\r\n\t\t\t\t\t\tfor (let j = 0; j < row.length; j++) {\r\n\t\t\t\t\t\t\tlet EM = row[j];\r\n\t\t\t\t\t\t\tif (EM.alt == item) {\r\n\t\t\t\t\t\t\t\t//在线表情路径，图文混排必须使用网络路径，请上传一份表情到你的服务器后再替换此路径 \r\n\t\t\t\t\t\t\t\t//比如你上传服务器后，你的100.gif路径为https://www.xxx.com/emoji/100.gif 则替换onlinePath填写为https://www.xxx.com/emoji/\r\n\t\t\t\t\t\t\t\tlet onlinePath = 'http://51daiyan.test.upcdn.net/static_s/51daiyan/img/emoji/'\r\n\t\t\t\t\t\t\t\t// let imgstr = '<img class=\"emoji_i\" src=\"'+onlinePath+this.onlineEmoji[EM.url]+'\">';\r\n\t\t\t\t\t\t\t\tlet imgstr = '<img class=\"emoji_i\" src=\"' + onlinePath + EM.url + '\">';\r\n\t\t\t\t\t\t\t\tconsole.log(\"imgstr: \" + imgstr);\r\n\t\t\t\t\t\t\t\treturn imgstr;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn replacedStr;\r\n\t\t\t},\r\n\r\n\t\t\t// 发送消息\r\n\t\t\tsendMsg(content, type) {\r\n\t\t\t\tconsole.log('????')\r\n\t\t\t\tlet message\r\n\t\t\t\tconsole.log(type)\r\n\t\t\t\tif (type == 'custom') {\r\n\t\t\t\t\tmessage = this.tim.createCustomMessage({\r\n\t\t\t\t\t\tto: this.toUserId,\r\n\t\t\t\t\t\tconversationType: that.$TIM.TYPES.CONV_GROUP,\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tdata: content.data, //自定义消息的数据字段\r\n\t\t\t\t\t\t\tdescription: content.description, //自定义消息的说明字段\r\n\t\t\t\t\t\t\textension: content.extension, //自定义消息的扩展字段\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (type == 'img') {\r\n\t\t\t\t\tmessage = this.tim.createImageMessage({\r\n\t\t\t\t\t\tto: this.toUserId,\r\n\t\t\t\t\t\tconversationType: that.$TIM.TYPES.CONV_GROUP,\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tfile: content\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmessage = this.tim.createTextMessage({\r\n\t\t\t\t\t\tto: this.toUserId,\r\n\t\t\t\t\t\tconversationType: that.$TIM.TYPES.CONV_GROUP,\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\ttext: content.text\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log('????1')\r\n\t\t\t\tthis.$store.commit('pushCurrentMessageList', message)\r\n\t\t\t\tlet pomise = this.tim.sendMessage(message)\r\n\t\t\t\tpomise.then(\r\n\t\t\t\t\t(res) => {\r\n\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\t// 滚动到底\r\n\t\t\t\t\t\t\tthis.scrollToView = res.data.message.ID\r\n\t\t\t\t\t\t\tthis.scrollToBottom()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(err) => {\r\n\t\t\t\t\t\tvar options = {\r\n\t\t\t\t\t\t\tgroupID: that.$store.state.toUserId,\r\n\t\t\t\t\t\t\ttype: that.$TIM.TYPES.GRP_AVCHATROOM,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet promise = that.tim.joinGroup(options);\r\n\t\t\t\t\t\tpromise.then(function(imResponse) {\r\n\t\t\t\t\t\t\tswitch (imResponse.data.status) {\r\n\t\t\t\t\t\t\t\tcase TIM.TYPES.JOIN_STATUS_WAIT_APPROVAL:\r\n\t\t\t\t\t\t\t\t\tconsole.log('等待管理员同意')\r\n\t\t\t\t\t\t\t\t\tbreak; // 等待管理员同意\r\n\t\t\t\t\t\t\t\tcase TIM.TYPES.JOIN_STATUS_SUCCESS: // 加群成功\r\n\t\t\t\t\t\t\t\t\tconsole.log('加群成功')\r\n\t\t\t\t\t\t\t\t\tconsole.log(imResponse.data.group); // 加入的群组资料\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase TIM.TYPES.JOIN_STATUS_ALREADY_IN_GROUP: // 已经在群中\r\n\t\t\t\t\t\t\t\t\tconsole.log('已经在群中')\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(function(imError) {\r\n\t\t\t\t\t\t\tconsole.warn('joinGroup error:', imError); // 申请加群失败的相关信息\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t},\r\n\r\n\t\t\t// 添加文字消息到列表\r\n\t\t\taddTextMsg(msg) {\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\t// 添加语音消息到列表\r\n\t\t\taddVoiceMsg(msg) {\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\t// 添加图片消息到列表\r\n\t\t\taddImgMsg(msg) {\r\n\t\t\t\tmsg.msg.content = this.setPicSize(msg.msg.content);\r\n\t\t\t\tthis.msgImgList.push(msg.msg.content.url);\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\taddRedEnvelopeMsg(msg) {\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\t// 添加系统文字消息到列表\r\n\t\t\taddSystemTextMsg(msg) {\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\t// 添加系统红包消息到列表\r\n\t\t\taddSystemRedEnvelopeMsg(msg) {\r\n\t\t\t\tthis.msgList.push(msg);\r\n\t\t\t},\r\n\t\t\tsendSystemMsg(content, type) {\r\n\t\t\t\tlet lastid = this.msgList[this.msgList.length - 1].msg.id;\r\n\t\t\t\tlastid++;\r\n\t\t\t\tlet row = {\r\n\t\t\t\t\ttype: \"system\",\r\n\t\t\t\t\tmsg: {\r\n\t\t\t\t\t\tid: lastid,\r\n\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\tcontent: content\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tthis.screenMsg(row)\r\n\t\t\t},\r\n\t\t\t//领取详情\r\n\t\t\ttoDetails(rid) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: 'HM-details/HM-details?rid=' + rid\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 预览图片\r\n\t\t\tshowPic(msg) {\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tindicator: \"none\",\r\n\t\t\t\t\tcurrent: msg.content.url,\r\n\t\t\t\t\turls: this.msgImgList\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 播放语音\r\n\t\t\tplayVoice(msg) {\r\n\t\t\t\tthis.playMsgid = msg.id;\r\n\t\t\t\tthis.AUDIO.src = msg.content.url;\r\n\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\tthis.AUDIO.play();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 录音开始\r\n\t\t\tvoiceBegin(e) {\r\n\t\t\t\tif (e.touches.length > 1) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.initPoint.Y = e.touches[0].clientY;\r\n\t\t\t\tthis.initPoint.identifier = e.touches[0].identifier;\r\n\t\t\t\tthis.RECORDER.start({\r\n\t\t\t\t\tformat: \"mp3\"\r\n\t\t\t\t}); //录音开始,\r\n\t\t\t},\r\n\t\t\t//录音开始UI效果\r\n\t\t\trecordBegin(e) {\r\n\t\t\t\tthis.recording = true;\r\n\t\t\t\tthis.voiceTis = '松开 结束';\r\n\t\t\t\tthis.recordLength = 0;\r\n\t\t\t\tthis.recordTimer = setInterval(() => {\r\n\t\t\t\t\tthis.recordLength++;\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\t// 录音被打断\r\n\t\t\tvoiceCancel() {\r\n\t\t\t\tthis.recording = false;\r\n\t\t\t\tthis.voiceTis = '按住 说话';\r\n\t\t\t\tthis.recordTis = '手指上滑 取消发送'\r\n\t\t\t\tthis.willStop = true; //不发送录音\r\n\t\t\t\tthis.RECORDER.stop(); //录音结束\r\n\t\t\t},\r\n\t\t\t// 录音中(判断是否触发上滑取消发送)\r\n\t\t\tvoiceIng(e) {\r\n\t\t\t\tif (!this.recording) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet touche = e.touches[0];\r\n\t\t\t\t//上滑一个导航栏的高度触发上滑取消发送\r\n\t\t\t\tif (this.initPoint.Y - touche.clientY >= uni.upx2px(100)) {\r\n\t\t\t\t\tthis.willStop = true;\r\n\t\t\t\t\tthis.recordTis = '松开手指 取消发送'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.willStop = false;\r\n\t\t\t\t\tthis.recordTis = '手指上滑 取消发送'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 结束录音\r\n\t\t\tvoiceEnd(e) {\r\n\t\t\t\tif (!this.recording) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.recording = false;\r\n\t\t\t\tthis.voiceTis = '按住 说话';\r\n\t\t\t\tthis.recordTis = '手指上滑 取消发送'\r\n\t\t\t\tthis.RECORDER.stop(); //录音结束\r\n\t\t\t},\r\n\t\t\t//录音结束(回调文件)\r\n\t\t\trecordEnd(e) {\r\n\t\t\t\tclearInterval(this.recordTimer);\r\n\t\t\t\tif (!this.willStop) {\r\n\t\t\t\t\tconsole.log(\"e: \" + JSON.stringify(e));\r\n\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\tlength: 0,\r\n\t\t\t\t\t\turl: e.tempFilePath\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet min = parseInt(this.recordLength / 60);\r\n\t\t\t\t\tlet sec = this.recordLength % 60;\r\n\t\t\t\t\tmin = min < 10 ? '0' + min : min;\r\n\t\t\t\t\tsec = sec < 10 ? '0' + sec : sec;\r\n\t\t\t\t\tmsg.length = min + ':' + sec;\r\n\t\t\t\t\tthis.sendMsg(msg, 'voice');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('取消发送录音');\r\n\t\t\t\t}\r\n\t\t\t\tthis.willStop = false;\r\n\t\t\t},\r\n\t\t\t// 切换语音/文字输入\r\n\t\t\tswitchVoice() {\r\n\t\t\t\tthis.hideDrawer();\r\n\t\t\t\tthis.isVoice = this.isVoice ? false : true;\r\n\t\t\t},\r\n\t\t\tdiscard() {\r\n\t\t\t\treturn;\r\n\t\t\t},\r\n\t\t\tcustomModal() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '是否发送此商品',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\tvar ext = {\r\n\t\t\t\t\t\t\t\ta: that.goods_pri,\r\n\t\t\t\t\t\t\t\ta1: 'a1',\r\n\t\t\t\t\t\t\t\ta2: that.goods_id,\r\n\t\t\t\t\t\t\t\ta3: service.imgurl + that.goods_img,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\text = JSON.stringify(ext)\r\n\t\t\t\t\t\t\tvar msg = {\r\n\t\t\t\t\t\t\t\tdata: 'custom_good',\r\n\t\t\t\t\t\t\t\tdescription: that.goods_name,\r\n\t\t\t\t\t\t\t\textension: ext\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.sendMsg(msg, 'custom')\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 选项卡关闭\r\n\t\t\thandleClose() {\r\n\t\t\t\tthis.rateModal = false\r\n\t\t\t\tthis.isFocus = false\r\n\t\t\t\tthis.isMoreOpen = false\r\n\t\t\t\tthis.isEmojiOpen = false\r\n\t\t\t},\r\n\t\t\tprevimg(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tvar urls = []\r\n\t\t\t\turls.push(e.currentTarget.dataset.url)\r\n\t\t\t\t// return\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: urls,\r\n\t\t\t\t\tlongPressActions: {\r\n\t\t\t\t\t\titemList: ['发送给朋友', '保存图片', '收藏'],\r\n\t\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\t\tconsole.log('选中了第' + (data.tapIndex + 1) + '个按钮,第' + (data.index + 1) + '张图片');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\tconsole.log(err.errMsg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\">\r\n\t@import \"@/static/HM-chat/css/style.scss\";\r\n\r\n\t.msg-list {\r\n\t\t// padding-bottom: 140px;\r\n\r\n\t}\r\n\r\n\t.msg-list1 {\r\n\t\twidth: 100%;\r\n\t\tpadding-bottom: 120upx;\r\n\t}\r\n\r\n\t.chat_box {\r\n\t\twidth: 500upx;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.chat_img {\r\n\t\twidth: 240upx;\r\n\t\theight: 240upx;\r\n\t\tmargin-right: 20upx;\r\n\t}\r\n\r\n\t.chat_msg {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.gb_name {\r\n\t\tfont-size: 28upx;\r\n\t}\r\n\r\n\t.gb_msg {\r\n\t\tfont-size: 22upx;\r\n\t}\r\n\r\n\t.ltbox_div {\r\n\t\tline-height: 45upx;\r\n\t}\r\n\r\n\t.emoji_i {\r\n\t\theight: 40upx;\r\n\t\twidth: 40upx;\r\n\t\tpadding: 2upx;\r\n\t\tbox-sizing: border-box;\r\n\t\tvertical-align: text-bottom;\r\n\t}\r\n\r\n\t.other {\r\n\t\tpadding-top: 20rpx;\r\n\t}\r\n\r\n\t.msg_time {\r\n\t\tposition: relative;\r\n\t\t// height: 1rpx !important;\r\n\t\tdisplay:flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin-top: 20upx;\r\n\t\tmargin-bottom: 20upx;\r\n\t}\r\n\r\n\t.msg_time .time {\r\n\t\t// position: absolute;\r\n\t\t// // top: -40upx;\r\n\t\t// left: 0;\r\n\t\t// right: 0;\r\n\t\ttext-align: center;\r\n\t\t// padding-right: 130rpx;\r\n\r\n\t}\r\n\r\n\t.bubble {\r\n\t\tmax-width: 80% !important;\r\n\t}\r\n\t.rong-emoji-content_list{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\t.rong-emoji-content_li{\r\n\t\twidth: 12.5%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t .rong-emoji-content_list .rong-emoji-content{\r\n\t\t width: 50upx;\r\n\t\t height: 50upx;\r\n\t } \r\n\t \r\n\t .msg-list.showLayer{\r\n\t \t\t padding-top: 45vh;\r\n\t \t\t transform: translate3d(0, -45vh, 0);\r\n\t }\r\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./room.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./room.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./filter.wxs?vue&type=custom&index=0&blockType=script&issuerPath=E%3A%5CphpStudy%5CWWW%5C68_yibeitong%5Cpages%5Cxiaoxi_list%5Croom.vue&module=filter&lang=wxs\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-filter-loader/index.js!./filter.wxs?vue&type=custom&index=0&blockType=script&issuerPath=E%3A%5CphpStudy%5CWWW%5C68_yibeitong%5Cpages%5Cxiaoxi_list%5Croom.vue&module=filter&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       \n     }"],"sourceRoot":""}