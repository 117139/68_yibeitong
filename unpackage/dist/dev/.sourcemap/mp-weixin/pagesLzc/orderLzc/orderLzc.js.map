{"version":3,"sources":["uni-app:///main.js","webpack:///E:/phpStudy/WWW/68_yibeitong/pagesLzc/orderLzc/orderLzc.vue?0c06","webpack:///E:/phpStudy/WWW/68_yibeitong/pagesLzc/orderLzc/orderLzc.vue?3315","webpack:///E:/phpStudy/WWW/68_yibeitong/pagesLzc/orderLzc/orderLzc.vue?8fd7","webpack:///E:/phpStudy/WWW/68_yibeitong/pagesLzc/orderLzc/orderLzc.vue?5ac6","uni-app:///pagesLzc/orderLzc/orderLzc.vue","webpack:///E:/phpStudy/WWW/68_yibeitong/pagesLzc/orderLzc/orderLzc.vue?3986"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","m0","_self","_c","htmlReset","getimg","l0","__map","shujuLzc","goods","item","index","$orig","__get_orig","m1","pic","m2","get_goods_pri","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,mD,mDACAA,EAAWC,a;;;;2DCHX,qTACIC,EADJ,2JASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,iCACZ,aAAAF,E;;;;2GCvBf,6jC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GAEA,GAAjBN,EAAIO,UAAiBP,EAAIQ,OAAO,qCAAuC,MACrEC,EACe,GAAjBT,EAAIO,UACAP,EAAIU,MAAMV,EAAIW,SAASC,OAAO,SAASC,EAAMC,GAC3C,IAAIC,EAAQf,EAAIgB,WAAWH,GAEvBI,EAAKjB,EAAIQ,OAAOK,EAAKK,IAAI,IAC7B,MAAO,CACLH,MAAOA,EACPE,GAAIA,MAGR,KACFE,EAAsB,GAAjBnB,EAAIO,UAAiBP,EAAIoB,cAAcpB,EAAIW,UAAY,KAChEX,EAAIqB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLrB,GAAIA,EACJK,GAAIA,EACJU,GAAIA,MAKRO,GAAmB,EACnBC,EAAkB,GACtB5B,EAAO6B,eAAgB,G;;;;2DCjCvB,2rBAAooB,eAAG,G;;;;0ICuFvoB,sBAMA,EALA,iCACA,mB,gvBAKA,CACA,KADA,WAEA,OACA,QACA,aACA,OACA,UACA,cACA,oBACA,SACA,UAEA,UACA,aAEA,SACA,UACA,UACA,QACA,eACA,SACA,WACA,QACA,WACA,eACA,YACA,iBACA,UACA,eAEA,SACA,YAGA,eACA,eACA,WACA,WACA,aAKA,kBA3CA,WA4CA,OACA,YACA,4DACA,oBACA,uBAKA,OArDA,SAqDA,GACA,OACA,YAEA,WACA,cACA,gBACA,wBAEA,cACA,oBAIA,OAnEA,WAmEA,WACA,OACA,oBACA,gBAEA,sBAGA,iCACA,oBAEA,+BACA,aACA,aAIA,oCACA,6CACA,gBACA,oBAEA,0BAEA,MAGA,QA9FA,aAiGA,OAjGA,WAkGA,WAKA,6BACA,aAEA,gBACA,iCADA,IAEA,cAFA,SAEA,GACA,4BAEA,OADA,eACA,IACA,EAEA,GAIA,OAZA,SAYA,GACA,4BAEA,QAfA,WAgBA,gBAIA,QApBA,WAoBA,WACA,OACA,sDACA,GACA,8CACA,gBACA,wBACA,uBACA,kBAEA,YACA,GACA,8CACA,gBACA,wBACA,mBAGA,uCACA,WACA,cACA,oBAEA,cACA,MACA,aACA,YACA,cAGA,aACA,aACA,kBAKA,mBACA,cACA,eACA,aACA,aACA,YACA,QAHA,WAIA,qBAmDA,QAnHA,WAoHA,eACA,WACA,iBACA,GACA,8CACA,OACA,SAEA,uCACA,qBACA,aACA,eACA,cACA,kDAGA,2BAEA,qBACA,eACA,uBACA,WACA,gBAKA,mBACA,eACA,aACA,YACA,qBAMA,MAzJA,WA4JA,WACA,iBAKA,IAFA,kCACA,KACA,8BACA,OACA,+BACA,iCACA,sCAEA,UAEA,OACA,8CACA,uBACA,yBAIA,uCAGA,GAFA,WACA,eACA,WACA,aAGA,qBACA,iBAGA,WACA,eAEA,mBACA,WACA,eACA,aACA,YACA,sBAKA,OAzMA,WA0MA,WACA,6BACA,YAEA,OA9MA,WAiNA,IAFA,WACA,IACA,6BACA,oDAGA,6BAFA,8BAKA,kBACA,iBACA,aACA,KACA,KACA,YACA,MAEA,MACA,YACA,KAEA,mCAMA,YAGA,qBAuBA,SApQA,WAqQA,IACA,IACA,aAGA,eAEA,wCAKA,eACA,qBAEA,YAGA,OAvRA,WAwRA,WACA,4DAOA,iDAEA,OACA,gBACA,wBACA,uBACA,WACA,8CACA,aAEA,YACA,GACA,gBACA,wBACA,WACA,8CACA,cAGA,cACA,0EA1BA,cACA,YACA,kBA4BA,UAxTA,WAyTA,uBAEA,KA3TA,SA2TA,GACA,WACA,aAGA,UACA,uBACA,YACA,KAEA,uB;;;;2DC7gBA,4+BAAq7B,eAAG,G","file":"pagesLzc/orderLzc/orderLzc.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesLzc/orderLzc/orderLzc.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./orderLzc.vue?vue&type=template&id=ecb2ff82&scoped=true&\"\nvar renderjs\nimport script from \"./orderLzc.vue?vue&type=script&lang=js&\"\nexport * from \"./orderLzc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderLzc.vue?vue&type=style&index=0&id=ecb2ff82&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ecb2ff82\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesLzc/orderLzc/orderLzc.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderLzc.vue?vue&type=template&id=ecb2ff82&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.htmlReset == 0 ? _vm.getimg(\"/static/images/orderBorder_02.jpg\") : null\n  var l0 =\n    _vm.htmlReset == 0\n      ? _vm.__map(_vm.shujuLzc.goods, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m1 = _vm.getimg(item.pic[0])\n          return {\n            $orig: $orig,\n            m1: m1\n          }\n        })\n      : null\n  var m2 = _vm.htmlReset == 0 ? _vm.get_goods_pri(_vm.shujuLzc) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        l0: l0,\n        m2: m2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderLzc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderLzc.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"minh100\">\r\n\r\n\t\t<view v-if=\"htmlReset==1\" class=\"zanwu\" @tap='onRetry'>请求失败，请点击重试</view>\r\n\t\t<view v-if=\"htmlReset==-1\" class=\"loading_def\">\r\n\t\t\t<image class=\"loading_def_img\" src=\"../../static/images/loading.gif\" mode=\"aspectFit\"></image>\r\n\t\t</view>\r\n\t\t<view v-if=\"htmlReset==0\" class=\"container\">\r\n\r\n\t\t\t<view class=\"address\" data-url=\"/pagesA/my_address/my_address?type=1\" @tap=\"jump\">\r\n\t\t\t\t<view class=\"address_icon\">\r\n\t\t\t\t\t<text class=\"iconfont icondizhi \"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"add_l\">\r\n\t\t\t\t\t<view v-if=\"address.name\" class=\"al_1\">{{address.name}}\r\n\t\t\t\t\t\t<text class=\"l_tel\">{{address.phone}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"address.name\" class=\"al_2\">\r\n\t\t\t\t\t\t{{address.province}}{{address.city}}{{address.area}}{{address.address}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"!address.name\" class=\"fz30\">请选择地址</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- <view class=\"add_r\"> -->\r\n\t\t\t\t<text class=\"iconfont iconnext-m add_r\"></text>\r\n\t\t\t\t<!-- </view> -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"orderbder\">\r\n\t\t\t\t<!-- <image :src=\"getimg('/static_s/51daiyan/images/orderborder.png')\"></image> -->\r\n\t\t\t\t<image :src=\"getimg('/static/images/orderBorder_02.jpg')\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"hengxian\"></view>\r\n\t\t\t<view class=\"goodsBox contbox\">\r\n\r\n\t\t\t\t<view class=\"goods1\" v-for=\"(item,index) in shujuLzc.goods\">\r\n\t\t\t\t\t<view class=\"goodsImg\">\r\n\t\t\t\t\t\t<image class=\"goodsImg\" :src=\"getimg(item.pic[0])\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<!-- <image class=\"goodsImg\" :src=\"getimg(item1.photo[0])\" mode=\"aspectFill\"></image> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"goodsinr\">\r\n\t\t\t\t\t\t<view class=\"goodsname oh2\">{{item.title}}</view>\r\n\t\t\t\t\t\t<view class=\"goodspri1\">\r\n\t\t\t\t\t\t\t<!-- <text class=\"fz36 cf6377a fwb\">￥{{filter.moneyFormat('48')}}</text> -->\r\n\t\t\t\t\t\t\t<view class=\"goods_pri\"><text style=\"font-size: 22upx;\">￥</text>{{item.real_price}}\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<text class=\"goods_num\"><text>×</text>{{item.sum}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"hengxian\"></view>\r\n\t\t\t<view class=\"guige_list\">\r\n\t\t\t\t<view class=\"guige_li\">\r\n\t\t\t\t\t<view class=\"guige_l\">\r\n\t\t\t\t\t\t<view class=\"guige_l_name\">商品总价</view>\r\n\t\t\t\t\t\t<!-- <view>10元</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"dis_flex aic guige_r\">\r\n\t\t\t\t\t\t<view >￥{{get_goods_pri(shujuLzc)}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"guige_li\">\r\n\t\t\t\t\t<view class=\"guige_l\">\r\n\t\t\t\t\t\t<view class=\"guige_l_name\">商品运费</view>\r\n\t\t\t\t\t\t<!-- <view>10元</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"dis_flex aic guige_r\">\r\n\t\t\t\t\t\t<view>{{shujuLzc.freight>0?'￥'+shujuLzc.freight:'免运费'}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\r\n\t\t\t<view class=\"fixbottom\">\r\n\t\t\t\t<view class=\"fb_l\"><text>￥</text>{{shujuLzc.all_price}}</view>\r\n\t\t\t\t<view v-if=\"paykg\" class=\"subbtn\" @tap=\"subbtn\">提交订单</view>\r\n\t\t\t\t<view v-if=\"!paykg\" class=\"subbtn subbtn1\">提交订单</view>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<!-- <script module=\"filter\" lang=\"wxs\" src=\"../../utils/filter.wxs\"></script> -->\r\n<script>\r\n\timport Vue from 'vue'\r\n\timport service from '../../service.js';\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\tvar that\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbtnkg: 0,\r\n\t\t\t\thtmlReset: -1,\r\n\t\t\t\ttype: 0, ///1 单品下单  2 购物车下单\r\n\t\t\t\tsku_id: '', //规格\r\n\t\t\t\tsku_number: '', //数量\r\n\t\t\t\tadvocacy_user_id: '', //代言人\r\n\t\t\t\tdy_id: '',\r\n\t\t\t\tuse_dou: 0,\r\n\r\n\t\t\t\tg_data: '', //1,2（type=2）购物车 c_id\r\n\t\t\t\tdata_list: [],\r\n\r\n\t\t\t\tdatas: [],\r\n\t\t\t\tyunfei: [], //运费\r\n\t\t\t\tyhlist: [], //优惠\r\n\t\t\t\tyhidx: 0,\r\n\t\t\t\taddresslist: [], //地址列表\r\n\t\t\t\tpaykg: true, //按钮开关\r\n\t\t\t\taddress: '',\r\n\t\t\t\tsum: 1000,\r\n\t\t\t\tmy_dou: 100,\r\n\t\t\t\tmy_dou_xuan: false,\r\n\t\t\t\tzsum: 577.99,\r\n\t\t\t\torder_ls_data: '',\r\n\t\t\t\tshujuLzc: {\r\n\t\t\t\t\treal_price: \"\"\r\n\t\t\t\t},\r\n\t\t\t\thuoAdd: 0,\r\n\t\t\t\tpageNum:1\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'hasLogin',\r\n\t\t\t\t'loginMsg',\r\n\t\t\t\t'wxlogin',\r\n\t\t\t\t// 'order_ls_data'\r\n\t\t\t]),\r\n\r\n\t\t},\r\n\t\tonShareAppMessage() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: '依辈通',\r\n\t\t\t\tpath: '/pages/index/index?pid=' + that.$store.state.loginDatas.id,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tconsole.log('成功', res)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonLoad(option) {\r\n\t\t\tthat = this\r\n\t\t\tthat.getShou();\r\n\t\t\t// console.log(that.$store.state.loginDatas.userToken)\r\n\t\t\tif (option.type == 1) {\r\n\t\t\t\tthat.type = option.type\r\n\t\t\t\tthat.sku_id = option.v_id\r\n\t\t\t\tthat.sku_number = option.number\r\n\t\t\t} else {\r\n\t\t\t\tthat.type = option.type\r\n\t\t\t\tthat.g_data = option.g_data\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tvar that = this\r\n\t\t\tlet pages = getCurrentPages();\r\n\t\t\tlet currPage = pages[pages.length - 1];\r\n\t\t\t// #ifndef H5\r\n\t\t\tif (currPage.data.addresschose) {\r\n\t\t\t\t//将携带的参数赋值\r\n\r\n\t\t\t\tthis.address = currPage.data.addresschose\r\n\t\t\t\tthis.addressBack = true\r\n\r\n\t\t\t\tconsole.log(this.address, '地址')\r\n\t\t\t\tif(that.pageNum>1){\r\n\t\t\t\t\tthat.onRetry();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\tuni.$on('update_address', (data) => {\r\n\t\t\t\tconsole.log('监听到时间来自update,携带参数msg为:' + data.msg)\r\n\t\t\t\tthis.address = data.msg\r\n\t\t\t\tthis.addressBack = true\r\n\t\t\t})\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t// that.jisuan()\r\n\t\t\t}, 1000)\r\n\t\t\t\r\n\t\t},\r\n\t\tonReady() {\r\n\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tthat.btnkg = 0\r\n\t\t},\r\n\t\t/**\r\n\t\t * 页面相关事件处理函数--监听用户下拉动作\r\n\t\t */\r\n\t\tonPullDownRefresh: function() {\r\n\t\t\tthat.getdata()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['order_ls']),\r\n\t\t\tget_goods_pri(datas){\r\n\t\t\t\tvar g_pri=datas.all_price-datas.freight\r\n\t\t\t\tg_pri=g_pri.toFixed(2)\r\n\t\t\t\tif(g_pri>0){\r\n\t\t\t\t\treturn g_pri\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn 0\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgetimg(img) {\r\n\t\t\t\treturn service.getimg(img)\r\n\t\t\t},\r\n\t\t\tonRetry() {\r\n\t\t\t\tthis.getdata()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//获取订单\r\n\t\t\tgetdata() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tvar jkurl = service.IP_lzc + 'jd.JdOrder/getMakeOrderGoodsInfo';\r\n\t\t\t\tvar datas = {\r\n\t\t\t\t\ttoken: that.$store.state.loginDatas.userToken || '',\r\n\t\t\t\t\tsku_id: that.sku_id,\r\n\t\t\t\t\taddress_id: that.address.id,\r\n\t\t\t\t\tgoods_sum: that.sku_number,\r\n\t\t\t\t\tmake_type:that.type\r\n\t\t\t\t}\r\n\t\t\t\tif(that.type==2){\r\n\t\t\t\t\tdatas = {\r\n\t\t\t\t\t\ttoken: that.$store.state.loginDatas.userToken || '',\r\n\t\t\t\t\t\tsku_id: that.g_data,\r\n\t\t\t\t\t\taddress_id: that.address.id,\r\n\t\t\t\t\t\tmake_type:that.type\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tservice.P_get(jkurl, datas).then(res => {\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tthis.htmlReset = 0;\r\n\t\t\t\t\t\tthat.shujuLzc = res.data;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.htmlReset = 0;\r\n\t\t\t\t\t\tif (res.msg) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"请求失败\",\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tthis.htmlReset = 1;\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请求异常\",\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\tthat.htmlReset = 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// 单个请求\r\n\t\t\t\t// service.P_get(jkurl, datas).then(res => {\r\n\t\t\t\t// \tthat.btn_kg=0\r\n\t\t\t\t// \tconsole.log(res)\r\n\t\t\t\t// \tif (res.code == 1) {\r\n\t\t\t\t// \t\tvar datas = res.data\r\n\t\t\t\t// \t\t// console.log(typeof datas)\r\n\r\n\t\t\t\t// \t\tif (typeof datas == 'string') {\r\n\t\t\t\t// \t\t\tdatas = JSON.parse(datas)\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\t\tthat.htmlReset=0\r\n\t\t\t\t// \t\t\tthat.data_list =datas\r\n\t\t\t\t// \t\t\tthat.order_ls(datas)\r\n\t\t\t\t// \t\t\tthat.order_ls_data=JSON.parse(JSON.stringify(datas))\r\n\t\t\t\t// \t\t\tvar address={\r\n\t\t\t\t// \t\t\t\t\"id\":res.address.id,\r\n\t\t\t\t// \t\t\t\t\"name\": res.address.a_name,\r\n\t\t\t\t// \t\t\t\t\"phone\": res.address.a_phone,\r\n\t\t\t\t// \t\t\t\t\"province\": res.address.province,\r\n\t\t\t\t// \t\t\t\t\"city\": res.address.city,\r\n\t\t\t\t// \t\t\t\t\"area\": res.address.area,\r\n\t\t\t\t// \t\t\t\t\"address\": res.address.address,\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t\tthat.address=address\r\n\t\t\t\t// \t\t\tthat.my_dou=res.common_data.bean\r\n\t\t\t\t// \t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t// \t\t\t\ttitle:'填写订单'\r\n\t\t\t\t// \t\t\t})\r\n\t\t\t\t// \t\t\tthat.jisuan()\r\n\t\t\t\t// \t\t\tconsole.log(address)\r\n\t\t\t\t// \t\t\tthat.getyf()\r\n\t\t\t\t// \t}else{\r\n\t\t\t\t// \t\tthat.htmlReset=1\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }).catch(e => {\r\n\t\t\t\t// \tthat.btn_kg=0\r\n\t\t\t\t// \tthat.htmlReset=1\r\n\t\t\t\t// \tconsole.log(e)\r\n\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t// \t\ticon: 'none',\r\n\t\t\t\t// \t\ttitle: '获取数据失败'\r\n\t\t\t\t// \t})\r\n\t\t\t\t// })\r\n\r\n\t\t\t},\r\n\t\t\t/* 获取收货地址 */\r\n\t\t\tgetShou() {\r\n\t\t\t\tthis.pageNum++\r\n\t\t\t\tlet that = this\r\n\t\t\t\tvar jkurl = 'user/address'\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\ttoken: that.$store.state.loginDatas.userToken || '',\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tsize: 20\r\n\t\t\t\t}\r\n\t\t\t\tservice.P_get(jkurl, data).then(res => {\r\n\t\t\t\t\tvar address = res.data.address;\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tif (address.length == 0) {\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl:\"/pagesA/my_address/my_address?type=1\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (var i = 0; i < address.length; i++) {\r\n\r\n\t\t\t\t\t\t\t\tif (address[i].is_default == 1) {\r\n\t\t\t\t\t\t\t\t\tthat.address = address[i];\r\n\t\t\t\t\t\t\t\t\tconsole.log(that.address)\r\n\t\t\t\t\t\t\t\t\tthat.huoAdd = 1\r\n\t\t\t\t\t\t\t\t\tthat.getdata()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '获取数据失败'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//获取运费\r\n\t\t\tgetyf() {\r\n\t\t\t\t// const pageState1 = pageState.default(this)\r\n\t\t\t\t// /cart\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif (!that.address.id) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tvar jkurl = '/makeOrder/calculatePrice'\r\n\t\t\t\tvar newarr = []\r\n\t\t\t\tfor (var i = 0; i < that.data_list.length; i++) {\r\n\t\t\t\t\tvar new_i = {\r\n\t\t\t\t\t\tprice: that.data_list[i].sum_price,\r\n\t\t\t\t\t\tnumber: that.data_list[i].sum_number,\r\n\t\t\t\t\t\tmanager_id: that.data_list[i].group_code,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewarr.push(new_i)\r\n\t\t\t\t}\r\n\t\t\t\tvar datas = {\r\n\t\t\t\t\ttoken: that.$store.state.loginDatas.userToken || '',\r\n\t\t\t\t\tdata: JSON.stringify(newarr),\r\n\t\t\t\t\taddress_id: that.address.id\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 单个请求\r\n\t\t\t\tservice.P_get(jkurl, datas).then(res => {\r\n\t\t\t\t\tthat.btn_kg = 0\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tvar datas = res.data\r\n\t\t\t\t\t\t// console.log(typeof datas)\r\n\r\n\t\t\t\t\t\tif (typeof datas == 'string') {\r\n\t\t\t\t\t\t\tdatas = JSON.parse(datas)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.yunfei = datas\r\n\t\t\t\t\t\tthat.jisuan()\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tthat.btn_kg = 0\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '获取数据失败'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tselect() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tthat.my_dou_xuan = !that.my_dou_xuan\r\n\t\t\t\tthat.jisuan()\r\n\t\t\t},\r\n\t\t\tjisuan() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tvar zsum = 0\r\n\t\t\t\tfor (var i = 0; i < that.data_list.length; i++) {\r\n\t\t\t\t\tif (!that.data_list[i].js_price && that.data_list[i].js_price != 0) {\r\n\t\t\t\t\t\tzsum += that.data_list[i].sum_price * 1\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tzsum += that.data_list[i].js_price * 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (that.my_dou_xuan) {\r\n\t\t\t\t\tvar my_d = that.my_dou * 1\r\n\t\t\t\t\tvar my_dou_new = that.my_dou * 1\r\n\t\t\t\t\tif (zsum > my_d) {\r\n\t\t\t\t\t\tzsum = zsum - my_d\r\n\t\t\t\t\t\tthat.use_dou = my_d\r\n\t\t\t\t\t\tmy_dou_new = 0\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmy_dou_new = my_d - zsum\r\n\t\t\t\t\t\tthat.use_dou = zsum\r\n\t\t\t\t\t\tzsum = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('我的代言豆还有：' + my_dou_new + '个')\r\n\t\t\t\t\t// that.zsum= zsum\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// var zsum = that.sum - yhnum\r\n\t\t\t\t\t// that.zsum= zsum\r\n\t\t\t\t\tthat.use_dou = 0\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthat.zsum = zsum.toFixed(2)\r\n\t\t\t\t//   var yhnum = that.yhmsg ? that.yhmsg.arg1 : ''\r\n\t\t\t\t//   if (that.my_dou_xuan) {\r\n\t\t\t\t//     var zsum = that.sum - yhnum\r\n\t\t\t\t//     var my_dou_new = that.my_dou\r\n\t\t\t\t//     if (zsum > that.my_dou) {\r\n\t\t\t\t//       zsum = zsum - that.my_dou\r\n\t\t\t\t//       my_dou_new = 0\r\n\t\t\t\t//     } else {\r\n\t\t\t\t//       my_dou_new = that.my_dou - zsum\r\n\t\t\t\t//       zsum = 0\r\n\t\t\t\t//     }\r\n\t\t\t\t//     console.log(zsum)\r\n\t\t\t\t//     console.log('我的代言豆还有：' + my_dou_new + '个')\r\n\t\t\t\t//     that.zsum= zsum\r\n\r\n\t\t\t\t//   } else {\r\n\t\t\t\t//     var zsum = that.sum - yhnum\r\n\t\t\t\t//     that.zsum= zsum\r\n\t\t\t\t//   }\r\n\t\t\t},\r\n\r\n\t\t\t/*计算价格*/\r\n\t\t\tcountpri() {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tlet heji = 0\r\n\t\t\t\tlet var2 = this.xzarr\r\n\t\t\t\t// console.log(this.goods_sele)\r\n\t\t\t\t// console.log(var2)\r\n\t\t\t\tfor (let i in var2) {\r\n\r\n\t\t\t\t\theji += var2[i].num * (var2[i].goods_real_price * 100)\r\n\r\n\r\n\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(heji)\r\n\t\t\t\theji = (heji / 100).toFixed(0)\r\n\r\n\t\t\t\tthis.sum = heji\r\n\t\t\t},\r\n\r\n\t\t\tsubbtn() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif (that.address == null || that.address.id == '' || that.address.id == undefined) {\r\n\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请先添加地址'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(that.$store.state.loginDatas.userToken);\r\n\t\t\t\t// return\r\n\t\t\t\tvar datas = {\r\n\t\t\t\t\tsku_id: that.sku_id,\r\n\t\t\t\t\taddress_id: that.address.id,\r\n\t\t\t\t\tgoods_sum: that.sku_number,\r\n\t\t\t\t\tpay_type:0,\r\n\t\t\t\t\ttoken:that.$store.state.loginDatas.userToken || '',\r\n\t\t\t\t\tmake_type:1\r\n\t\t\t\t}\r\n\t\t\t\tif(that.type==2){\r\n\t\t\t\t\tdatas = {\r\n\t\t\t\t\t\tsku_id: that.g_data,\r\n\t\t\t\t\t\taddress_id: that.address.id,\r\n\t\t\t\t\t\tpay_type:0,\r\n\t\t\t\t\t\ttoken:that.$store.state.loginDatas.userToken || '',\r\n\t\t\t\t\t\tmake_type:2\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: `/pagesLzc/orderPay/orderPay?datas=${JSON.stringify(datas)}`\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tgoaddress() {\r\n\t\t\t\tservice.goaddress()\r\n\t\t\t},\r\n\t\t\tjump(e) {\r\n\t\t\t\tvar that = this\r\n\t\t\t\tif (that.btnkg == 1) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.btnkg = 1\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tthat.btnkg = 0\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t}\r\n\t\t\t\tservice.jump(e)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.hengxian {\r\n\t\twidth: 100%;\r\n\t\theight: 20upx;\r\n\t\tbackground: #F4F4F4;\r\n\t}\r\n\r\n\t.container {\r\n\t\tmin-height: 100vh;\r\n\t\theight: auto;\r\n\t\t/* background: #eeeeee; */\r\n\t\tpadding-bottom: 100rpx;\r\n\t\tdisplay: block;\r\n\t\tborder-top: 1px solid #eee;\r\n\t}\r\n\r\n\timage {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.address {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tmin-height: 200rpx;\r\n\t\tpadding: 28rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: #fff;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.address_icon {\r\n\t\twidth: 47upx;\r\n\t\theight: 47upx;\r\n\t\tbackground: linear-gradient(0deg, #FF3131, #FF5757);\r\n\t\tbox-shadow: 0px 2upx 6upx 0px rgba(255, 43, 43, 0.35);\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin-right: 28upx;\r\n\t\tflex: none;\r\n\t}\r\n\r\n\t.address_icon text {\r\n\t\tfont-size: 26upx;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.add_l {\r\n\t\tmax-width: 515upx;\r\n\t\theight: 80%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-around;\r\n\t\tflex: 1;\r\n\r\n\t}\r\n\r\n\t.al_1 {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.l_tel {\r\n\t\tmargin-left: 47rpx;\r\n\t}\r\n\r\n\t.al_2 {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\r\n\t}\r\n\r\n\t.add_r {\r\n\t\twidth: 23rpx;\r\n\t\theight: 40rpx;\r\n\t\tmargin-left: 50upx;\r\n\t\tflex: none;\r\n\t}\r\n\r\n\t.orderbder {\r\n\t\twidth: 100%;\r\n\t\theight: 9rpx;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.goodsBox {\r\n\t\twidth: 100%;\r\n\t\tpadding: 19upx 28rpx;\r\n\t}\r\n\r\n\t.goodsImg {\r\n\r\n\t\twidth: 163rpx;\r\n\t\theight: 163rpx;\r\n\t\tmargin-right: 29rpx;\r\n\t}\r\n\r\n\r\n\r\n\t.ml10 {\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\t.goodsImg image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\r\n\r\n\r\n\t.goods1 {\r\n\t\twidth: 100%;\r\n\t\tpadding: 19upx 0;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t/* border-bottom: 1px solid #ddd; */\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\r\n\t.goodsinr {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.goodsname {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.goodspri {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.scx {\r\n\t\ttext-decoration: line-through;\r\n\t}\r\n\r\n\t.goodspri1 {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #fe0042;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\r\n\r\n\ttext {\r\n\t\tcolor: #F75559;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.goods_pri {\r\n\t\tcolor: #FD383B;\r\n\t\tfont-size: 28upx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.goods_num {\r\n\t\tfont-size: 30uxp;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\r\n\t.guige_list {\r\n\t\twidth: 100%;\r\n\t\tpadding: 0 30upx;\r\n\t}\r\n\r\n\t.guige_li {\r\n\t\twidth: 100%;\r\n\t\theight: 90rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 1px solid #EEEEEE;\r\n\t}\r\n\r\n\t.guige_l {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.guige_l_name {\r\n\t\tcolor: #333;\r\n\t\tmargin-right: 25rpx;\r\n\t}\r\n\r\n\t.guige_r {\r\n\t\tfont-size: 28upx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\r\n\t.fixbottom {\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\theight: 100rpx;\r\n\r\n\t\tbackground: #FFFFFF;\r\n\t\tbox-shadow: 0px 0px 9upx 0px rgba(195, 195, 195, 0.49);\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.fb_l {\r\n\t\tflex: 1;\r\n\t\theight: 100rpx;\r\n\t\tpadding-left: 28rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #f75852;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.fb_l text {\r\n\t\tfont-size: 22upx;\r\n\t}\r\n\r\n\t.subbtn {\r\n\t\twidth: 212rpx;\r\n\t\theight: 100rpx;\r\n\t\tbackground-color: #f75852;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.subbtn1 {\r\n\t\tbackground-color: #999;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderLzc.vue?vue&type=style&index=0&id=ecb2ff82&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./orderLzc.vue?vue&type=style&index=0&id=ecb2ff82&scoped=true&lang=css&\""],"sourceRoot":""}